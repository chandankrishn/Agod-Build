System.register("chunks:///_virtual/CardManager.ts",["cc"],(function(a){"use strict";var t,n,r,e;return{setters:[function(a){t=a.cclegacy,n=a._decorator,r=a.resources,e=a.JsonAsset}],execute:function(){var s,c;t._RF.push({},"96b26LUSBJH6aYyoGrQs5dz","CardManager",void 0);var i=n.ccclass;n.property,a("CardManager",i("CardManager")(((c=function(){function a(){this.cardData=null}a.getInstance=function(){return this._instance||(this._instance=new a),this._instance};var t=a.prototype;return t.loadCardsData=function(a){var t=this;r.load("CardsData/CardsData",e,(function(n,r){t.cardData=r.json,a(n,!0)}))},t.loadCardsDataWithName=function(a){return this.cardData?this.cardData[a].CardData:[]},t.getDragonName=function(a){if(this.cardData){var t=this.cardData[a];return t.species+t.type}return"Not Found"},t.getDragonInfo=function(a){if(this.cardData){var t=this.cardData[a],n={ATK:t.ATK,DEF:t.DEF,HP:t.HP,INT:t.INT,SPD:t.SPD,type:t.type,species:t.species,class:t.class,Name:t.species+" "+t.type,Spine:t.Spine,Image:t.Image};return console.log("getDragonInfo: info: ",n),n}return null},a}())._instance=void 0,s=c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,r,a,i,o,u,c,l,s,p,d;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.Sprite,a=t.Label,i=t.Node,o=t.resources,u=t.SpriteFrame,c=t.Component},function(t){l=t.applyDecoratedDescriptor,s=t.inheritsLoose,p=t.initializerDefineProperty,d=t.assertThisInitialized}],execute:function(){var f,g,h,b,y,C,m,v,w,D,k,I,R,z,N,F,_,L,S;e._RF.push({},"ee5e1NCN9NJ/7oV0TjvspaA","Cards",void 0);var j=n.ccclass,A=n.property;t("Cards",(f=j("Cards"),g=A({type:r}),h=A({type:r}),b=A({type:r}),y=A({type:a}),C=A({type:a}),m=A({type:a}),v=A({type:r}),w=A({type:i}),f((I=l((k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,p(e,"cardImage",I,d(e)),p(e,"unknownCard",R,d(e)),p(e,"attackCountImg",z,d(e)),p(e,"energyCounter",N,d(e)),p(e,"attackCounter",F,d(e)),p(e,"description",_,d(e)),e.cardName=null,p(e,"glow",L,d(e)),e.cardData=null,e.parentRef=null,p(e,"buttonRef",S,d(e)),e}s(e,t);var n=e.prototype;return n.start=function(){this.parentRef=null},n.setCardData=function(t,e){var n=this;this.parentRef=e,this.cardData=t;var r=this.cardData.Name;o.load("DragonCards/"+r+"/spriteFrame",u,(function(t,e){t?(n.cardImage.node.active=!1,n.glow.node.active=!1,n.unknownCard.node.active=!0):n.updateCardUI(e)}))},n.updateCardUI=function(t){this.cardImage.node.active=!0,this.glow.node.active=!this.parentRef,this.unknownCard.node.active=!1,this.attackCountImg.node.active=!0,this.cardImage.spriteFrame=t,this.description.string=this.cardData.Description,this.energyCounter.string=this.cardData.EnergyCost,this.cardData.Damage?this.attackCounter.string=this.cardData.Damage:this.attackCountImg.node.active=!1},n.cardClicked=function(t,e){this.parentRef&&this.parentRef.cardClickCB(e)},n.showGlow=function(){this.buttonRef.active=!1,this.glow.node.active=!0},n.hideGlow=function(){this.glow.node.active=!1,this.buttonRef.active=!0},n.update=function(t){},e}(c)).prototype,"cardImage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=l(k.prototype,"unknownCard",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=l(k.prototype,"attackCountImg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=l(k.prototype,"energyCounter",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=l(k.prototype,"attackCounter",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=l(k.prototype,"description",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=l(k.prototype,"glow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=l(k.prototype,"buttonRef",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=k))||D));e._RF.pop()}}}));

System.register("chunks:///_virtual/CardsControl.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(r){"use strict";var t,a,e,n,s,o,i,C,d,u,l,h,c,f,g;return{setters:[function(r){t=r.cclegacy,a=r._decorator,e=r.Prefab,n=r.CCInteger,s=r.Label,o=r.instantiate,i=r.Layout,C=r.Component},function(r){d=r.applyDecoratedDescriptor,u=r.inheritsLoose,l=r.initializerDefineProperty,h=r.assertThisInitialized},function(r){c=r.USER,f=r.CardAnimation},function(r){g=r.TeamManager}],execute:function(){var p,m,y,P,v,L,b,_,U,D,O;t._RF.push({},"ff43a4NNXRJUIHxVeuauHNd","CardsControl",void 0);var R=a.ccclass,I=a.property;r("CardsControl",(p=R("CardsControl"),m=I({type:e}),y=I({type:n}),P=I({type:n}),v=I({type:s}),p((_=d((b=function(r){function t(){for(var t,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return t=r.call.apply(r,[this].concat(e))||this,l(t,"cardsLayoutPrefab",_,h(t)),l(t,"gameStartCardsCount",U,h(t)),l(t,"CardsOnRoundEnd",D,h(t)),l(t,"cardsCountLable",O,h(t)),t.cardsLeft=[],t.currentCards=[],t.CPU_CardsLeft=[],t.CPU_CurCards=[],t.arrayOfEnergyOfCard=[],t.arrayOfAvailableCombination=[],t.K=0,t}u(t,r);var a=t.prototype;return a.start=function(){for(var r=g.getInstance().getFightingDragons(c.Player),t=g.getInstance().getFightingDragons(c.Computer),a=null,e=0;e<r.length;e++)a=o(this.cardsLayoutPrefab),this.node.addChild(a),a.name=r[e].Node.name,this.setCard(r[e].Data.DragonsCard,c.Player),this.setCard(t[e].Data.DragonsCard,c.Computer);console.log("Cards Left",this.CPU_CardsLeft,this.cardsLeft,"Current Cards",this.currentCards,this.CPU_CardsLeft),this.RandomCardsSetup(c.Player,this.gameStartCardsCount),this.RandomCardsSetup(c.Computer,this.gameStartCardsCount)},a.RandomCardsSetup=function(r,t){void 0===r&&(r=c.Player),void 0===t&&(t=this.CardsOnRoundEnd);var a=null;if(r==c.Player){if(0==this.cardsLeft.length&&0==this.currentCards.length)for(var e=g.getInstance().getFightingDragons(c.Player),n=0;n<e.length;n++)this.cardsLeft=[].concat(this.cardsLeft,e[n].Data.DragonsCard);else 1==this.cardsLeft.length&&(t=1);for(var s=0;s<t&&this.cardsLeft.length;s++){var o=(a=this.getRandomCard()).getComponent("powerCard"),C=this.node.getChildByName(a.name);C.getComponent(i).enabled=!0,C.getComponent(i).updateLayout(),C.addChild(a),g.getInstance().ReduceCards(),this.cardsCountLable.string=""+this.cardsLeft.length,o.playAnimation(f.CardIn)}}else{if(0==this.CPU_CardsLeft.length&&0==this.CPU_CurCards.length)for(var d=g.getInstance().getFightingDragons(c.Computer),u=0;u<d.length;u++)this.CPU_CardsLeft=[].concat(this.CPU_CardsLeft,d[u].Data.DragonsCard);else 1==this.CPU_CardsLeft.length&&(t=1);for(var l=0;l<t&&this.CPU_CardsLeft.length;l++)a=this.getRandomCard(c.Computer)}},a.getRandomCard=function(r){if(void 0===r&&(r=c.Player),r==c.Computer){var t=this.CPU_CardsLeft.length-1,a=Math.floor(Math.random()*(t-0+1))+0,e=this.CPU_CardsLeft[a];return this.CPU_CardsLeft.splice(a,1),this.CPU_CurCards.push(e),e}var n=this.cardsLeft.length-1,s=Math.floor(Math.random()*(n-0+1))+0;e=this.cardsLeft[s];return this.cardsLeft.splice(s,1),this.currentCards.push(e),e},a.setCard=function(r,t){void 0===t&&(t=c.Player);for(var a=0;a<r.length;a++){r[a].getComponent("powerCard").setParent(this.node.parent.getComponent("gamePlay")),t==c.Player?this.cardsLeft.push(r[a]):this.CPU_CardsLeft.push(r[a])}},a.updateCurrentCards=function(r,t){void 0===t&&(t=c.Player),t==c.Player?this.currentCards.splice(this.currentCards.findIndex((function(t){return t.getComponent("powerCard").cardName==r.Name})),1):this.CPU_CurCards.splice(this.CPU_CurCards.findIndex((function(t){return t.getComponent("powerCard").cardName==r.Name})),1)},a.cardsToSelectForComputer=function(){var r=this;this.arrayOfAvailableCombination.length=0,this.arrayOfEnergyOfCard.length=0;for(var t=0;t<this.CPU_CurCards.length;t++){var a=this.CPU_CurCards[t].getComponent("powerCard");this.arrayOfEnergyOfCard.push(a.CardData.EnergyCost)}if(this.K=g.getInstance().getCurrentEnegy(c.Computer),this.Combination(this.arrayOfEnergyOfCard,this.K),0!=this.arrayOfAvailableCombination.length){var e=Math.floor(Math.random()*(this.arrayOfAvailableCombination.length-1-0+1)+0);return this.chooseCards(e)}if(this.CPU_CurCards.length<=2){var n=g.getInstance().getFightingDragons(c.Computer);console.log("Array of dragons",n);for(var s=0;s<n.length;s++)this.setCard(n[s].Data.DragonsCard,c.Computer);for(var o=function(t){var a=r.CPU_CurCards[t].getComponent("powerCard").cardName,e=r.CPU_CardsLeft.findIndex((function(r){return r.getComponent("powerCard").cardName==a}));-1!=e&&r.CPU_CardsLeft.splice(e,1)},i=0;i<this.CPU_CurCards.length;i++)o(i)}return null},a.checkCurrentCards=function(){console.log("PlayerCards:",this.currentCards,"CpuCurrentCards:",this.CPU_CurCards)},a.chooseCards=function(r){void 0===r&&(r=0);var t=[];if(0==this.arrayOfAvailableCombination.length)return null;for(var a=this.arrayOfAvailableCombination[r],e=0;e<a.length;e++)for(var n=0;n<this.CPU_CurCards.length;n++){var s=this.CPU_CurCards[n].getComponent("powerCard"),o=s.CardData.EnergyCost;if(a[e]==o){this.CPU_CurCards[n];t.push({dragonName:s.dragonName,cardData:s.CardData}),this.updateCurrentCards(s.CardData,c.Computer),g.getInstance().UseEnergy(o,c.Computer);break}}return t},a.unique_combination=function(r,t,a,e,n){var s=[];if(t!=a)for(var o=r;o<n.length;o++)t+n[o]>a||o>r&&n[o]==n[o-1]||(e.push(n[o]),this.unique_combination(o+1,t+n[o],a,e,n),e.pop());else{for(var i=0;i<e.length;i++)s.push(e[i]);this.arrayOfAvailableCombination.push(s)}},a.Combination=function(r,t){r.sort((function(r,t){return r-t}));this.unique_combination(0,0,t,[],r)},a.RemoveCardsofRemovedDragon=function(r){var t=g.getInstance().getDragonUser(r),a=t==c.Computer?this.CPU_CardsLeft:this.cardsLeft,e=t==c.Computer?this.CPU_CurCards:this.currentCards;a=a.filter((function(t){return console.log(r,t.name,t.name==r),t.name!=r})),t==c.Computer?this.CPU_CardsLeft=a:this.cardsLeft=a,e=e.filter((function(t){return console.log(r,t,t.name,t.name=r),t.name!=r})),t==c.Computer?this.CPU_CurCards=e:this.currentCards=e,t==c.Player&&(this.node.getChildByName(r).active=!1),console.log("RemoveCards Called"),console.log("DragonName:",r,"Cpu CurrCards:",this.CPU_CurCards),console.log("DragonName:",r,"Cpu LeftCards:",this.CPU_CardsLeft)},t}(C)).prototype,"cardsLayoutPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=d(b.prototype,"gameStartCardsCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),D=d(b.prototype,"CardsOnRoundEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),O=d(b.prototype,"cardsCountLable",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=b))||L));t._RF.pop()}}}));

System.register("chunks:///_virtual/comingSoon.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(n){"use strict";var o,t,i,e,s;return{setters:[function(n){o=n.cclegacy,t=n._decorator,i=n.Animation,e=n.Component},function(n){s=n.inheritsLoose}],execute:function(){var c;o._RF.push({},"9cf34Z0TANNdKd9uzRG5n30","comingSoon",void 0);var r=t.ccclass;t.property,n("comingSoon",r("comingSoon")(c=function(n){function o(){return n.apply(this,arguments)||this}s(o,n);var t=o.prototype;return t.start=function(){this.node.getComponent(i).play(),this.node.getComponent(i).on("finished",this.onFinished,this)},t.onFinished=function(){this.node.destroy()},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({Boost:void 0,BoostDependent:void 0,Booster:void 0,Buff_Type:void 0,CardAnimation:void 0,Card_Type:void 0,Damage:void 0,Damage_Type:void 0,DeerType:void 0,DotItems:void 0,EffectStatus:void 0,EffectType:void 0,Effect_Target:void 0,Effect_Type:void 0,EffectsProp:void 0,Game_Dynamics:void 0,Heal_Type:void 0,Max_Base:void 0,Reach:void 0,Taunt_Type:void 0,Traget:void 0,USER:void 0,count:void 0}),t._RF.push({},"983031nyw9FQIJwcEg5FXwu","Constants",void 0);var E,_,o,a,n,D,f,T,u,i;e("DragonsCount",3),e("Round_INC",1),e("Base_Booster",1);!function(e){e[e.CardIn=0]="CardIn",e[e.CardOut=1]="CardOut"}(E||(E=e("CardAnimation",{}))),function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(_||(_=e("EffectStatus",{}))),function(e){e.AOE="AOE",e.ST="ST"}(o||(o=e("Reach",{}))),function(e){e[e.BUFF=0]="BUFF",e[e.HEAL=1]="HEAL",e[e.DOT=2]="DOT",e[e.DEBUFF=3]="DEBUFF",e[e.SETUP=4]="SETUP",e[e.REFLECT=5]="REFLECT"}(a||(a=e("EffectType",{}))),function(e){e.IMD="IMD_Heal"}(n||(n=e("Heal_Type",{}))),function(e){e.DMG_BOOST="Damage_Boost",e.ATK_BOOST="Attack_Boost",e.DMG="Damage",e.DMG_REF="DMG_REFLECT",e.EVD_BUFF="Evade_Buff",e.SPD_BOOST="Speed_Boost",e.DMG_RED="Damage_Reduce",e.IMD_HEAL="Immediate_Heal",e.TAUNT="Taunt",e.HEAL_BLK="Heal_Block",e.FRZ_ENY="Freeze_Enemy",e.INC_HEAL="Increase_Heal",e.RM_DB_HEAL="Remove_Dbuff_HEAL",e.RM_DB="Remove_Dbuff",e.DEC_SPD="Decrease_Speed",e.INV="Invincible"}(D||(D=e("Booster",{}))),function(e){e.Enemy_Debuff="Enemy_Debuff",e.Self_Lost_HP="Lost_HP",e.Value="Value",e.ENY_DMG="Enemy_Damage",e.MAX_Value="Max_Value",e.DMG="Damage"}(f||(f=e("BoostDependent",{}))),function(e){e.ONE="One",e.ALL="ALL"}(T||(T=e("count",{}))),function(e){e.DMG_BOOST="Damage_Boost",e.DRG_SPEED="Dragon_Speed",e.DMG_RED="Damage_Reduce",e.DMG_REFLECT="Reflect_Damage"}(u||(u=e("Buff_Type",{}))),function(e){e.Buff="buff",e.Heal="heal",e.Dot="dot",e.Debuff="debuff",e.Setup="setup",e.Reflect="reflect",e.Taunt="taunt"}(i||(i=e("EffectsProp",{})));var c,A;e("Effects",(function(){this.buff=[],this.heal=[],this.dot=[],this.debuff=[],this.setup=[],this.reflect=[],this.taunt=[]}));!function(e){e.DMG_REF="Damage_Reflect"}(c||(c=e("Taunt_Type",{}))),function(e){e.SLF="Self",e.ENY="Enemy",e.TEAM="Team",e.ALY_LOW_HP="Ally_Low_HP",e.MULT="Multiple_Target",e.ENY_TEAM="Enemy_Team",e.SLF_TEAM="Self_Team"}(A||(A=e("Effect_Target",{})));var I;e("Item",{Type:"",Boost:1,Duration:0});!function(e){e.BUFF="Buff",e.HEAL="Heal",e.DOT="Dot",e.DEBUFF="Debuff",e.SETUP="Setup",e.REFLECT="Reflect",e.TAUNT="Taunt"}(I||(I=e("Effect_Type",{})));var s,d,L,r,m,B,F,S,C,l;e("Effect",{Duration:0,Effect_Type:"",Type:"",Amount:0,Status:!1});!function(e){e[e.Computer=0]="Computer",e[e.Player=1]="Player"}(s||(s=e("USER",{}))),function(e){e[e.SPD=100]="SPD",e[e.ATK=600]="ATK",e[e.HP=1200]="HP",e[e.DEF=800]="DEF",e[e.INIT=700]="INIT"}(d||(d=e("Max_Base",{}))),function(e){e[e.EVASION_COEFFICIENT=15]="EVASION_COEFFICIENT",e[e.CRIICAL_HIT_PROB=12]="CRIICAL_HIT_PROB"}(L||(L=e("Game_Dynamics",{}))),function(e){e[e.EVADED=.25]="EVADED",e[e.DEBUFF_CHANCE=.5]="DEBUFF_CHANCE",e[e.CRITICAL_HIT=1.4]="CRITICAL_HIT",e[e.EVADE_INC=3]="EVADE_INC",e[e.EVADE_PENALTY=1.5]="EVADE_PENALTY"}(r||(r=e("Damage",{}))),function(e){e.PHY="Physical",e.SKL="Skill"}(m||(m=e("Damage_Type",{}))),function(e){e.SPD="SPD_BOOST",e.DMG="DMG_BOOST",e.ATK="ATK_BOOST",e.RED_DMG="DMG_REDUCE"}(B||(B=e("Boost",{}))),function(e){e.DMG="DMG"}(F||(F=e("DotItems",{}))),function(e){e.Attack="ATK",e.Defense="DEF",e.Heal="HEAL"}(S||(S=e("Card_Type",{}))),function(e){e.SLF="Self",e.ENY="Enemy"}(C||(C=e("Traget",{}))),function(e){e[e.IDLE=1]="IDLE",e[e.WALKING=2]="WALKING",e[e.EATING=3]="EATING",e[e.IDLE_EATING=4]="IDLE_EATING",e[e.IDLE_WALKING=5]="IDLE_WALKING",e[e.IDLE_EAT_WALK=6]="IDLE_EAT_WALK"}(l||(l=e("DeerType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/Deer.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,p,l,m,u,y;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Enum,o=e.Animation,r=e.tween,a=e.Vec3,s=e.Component},function(e){c=e.applyDecoratedDescriptor,p=e.inheritsLoose,l=e.initializerDefineProperty,m=e.assertThisInitialized},function(e){u=e.DeerType},function(e){y=e.RNG}],execute:function(){var d,D,h,A,f;t._RF.push({},"6634cR98EBPOoE2KdPzQraX","Deer",void 0);var I=n.ccclass,E=n.property;e("Deer",(d=I("Deer"),D=E({type:i(u)}),d((f=c((A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,l(t,"deerType",f,m(t)),t.timer=0,t.deerIdleAnimTimer=1500,t}p(t,e);var n=t.prototype;return n.start=function(){this.deerType==u.WALKING&&this.playDeerWalkAnimation()},n.update=function(e){this.timer++,this.timer%this.deerIdleAnimTimer==0&&(this.deerIdleAnimTimer=y(2e3,3e3),this.checkAnimationToPlay())},n.checkAnimationToPlay=function(){switch(this.deerType){case u.EATING:case u.IDLE:break;case u.IDLE_EATING:this.playDeerIdleEatingAnimation();break;case u.IDLE_EAT_WALK:case u.IDLE_WALKING:case u.WALKING:}},n.playDeerEatAnimation=function(){this.node.getComponent(o).play("DeerEatAnimation")},n.playDeerIdleAnimation=function(){this.node.getComponent(o).play("DeerIdleAnim")},n.playDeerWalkAnimation=function(){var e=y(0,1);this.node.getComponent(o).play("DeerWalk"),r(this.node).by(70,{position:new a(-500,-e,0)}).start()},n.playDeerDownAnimation=function(){this.node.getComponent(o).play("DeerDownMovement")},n.playDeerUpAnimation=function(){this.node.getComponent(o).play("DeerUpwordMovement")},n.playDeerIdleEatingAnimation=function(){this.node.getComponent(o).play("DeerIdleEat")},t}(s)).prototype,"deerType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.IDLE}}),h=A))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/DeerAniamtion.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var r,t,i,n,o,a,l,u,c;return{setters:[function(e){r=e.cclegacy,t=e._decorator,i=e.Node,n=e.Prefab,o=e.Component},function(e){a=e.applyDecoratedDescriptor,l=e.inheritsLoose,u=e.initializerDefineProperty,c=e.assertThisInitialized}],execute:function(){var p,s,f,b,y,m,D,A,v,d,g;r._RF.push({},"efb18izaOpF74v4N47y8OAI","DeerAniamtion",void 0);var _=t.ccclass,h=t.property;e("DeerAniamtion",(p=_("DeerAniamtion"),s=h({type:i}),f=h({type:[i]}),b=h({type:n}),y=h({type:[i]}),p((A=a((D=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return r=e.call.apply(e,[this].concat(i))||this,u(r,"Deer_Animation",A,c(r)),u(r,"DeerMovePoints",v,c(r)),r.Deer_AnimationCount=0,r.tempMulti=void 0,r.Deer_AnimationSpeed=150,u(r,"treePrefab",d,c(r)),u(r,"treeArea",g,c(r)),r}return l(r,e),r}(o)).prototype,"Deer_Animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=a(D.prototype,"DeerMovePoints",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=a(D.prototype,"treePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=a(D.prototype,"treeArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=D))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Details.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var a,t,i,r,n,o,h,l,g,d,s,y,c,m,C,p;return{setters:[function(e){a=e.cclegacy,t=e._decorator,i=e.Prefab,r=e.Node,n=e.instantiate,o=e.Vec3,h=e.UITransform,l=e.Label,g=e.EditBox,d=e.Component},function(e){s=e.applyDecoratedDescriptor,y=e.inheritsLoose,c=e.initializerDefineProperty,m=e.assertThisInitialized},function(e){C=e.USER},function(e){p=e.TeamManager}],execute:function(){var B,u,A,L,v,N,E,b,w,D,f,x,T,_,P,O,R;a._RF.push({},"f1ce3aBB7NG5LQ8745wCd7h","Details",void 0);var z=t.ccclass,H=t.property;e("Details",(B=z("Details"),u=H({type:i}),A=H({type:i}),L=H({type:r}),v=H({type:r}),N=H({type:i}),E=H({type:r}),b=H({type:i}),B((f=s((D=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=e.call.apply(e,[this].concat(i))||this,c(a,"button",f,m(a)),c(a,"prop",x,m(a)),c(a,"view",T,m(a)),c(a,"details",_,m(a)),c(a,"damageChance",P,m(a)),c(a,"viewForDamageChance",O,m(a)),c(a,"updatedSuccessfully",R,m(a)),a.dragonArray=[],a.propArray=[],a.index=0,a.addLabel=null,a.damChanceArray=[],a.powerType=["HP","ATK","DEF","SPD","INT"],a}y(a,e);var t=a.prototype;return t.start=function(){this.dragonArray=[p.getInstance().getDragons(C.Player),p.getInstance().getDragons(C.Computer)],this.dragonArray=this.dragonArray.flat(),console.log("DragonArray : ",this.dragonArray),console.log("card s : ",this.dragonArray),console.log("card name : ",this.dragonArray[0].name);var e=this.dragonArray[0].getComponent("Dragon");console.log("Scr ",e),console.log(" cards data ",e.ATK);for(var a=0;a<this.dragonArray.length;a++){var t=n(this.button);t.position=new o(-100,this.node.getComponent(h).height/2-(100*a+300),0),console.log("pos  ",a," : ",t.position),this.view.addChild(t),t.getChildByName("Label").getComponent(l).string=this.dragonArray[a].name,t.on(r.EventType.MOUSE_DOWN,this.showDetails,this)}for(var i=0;i<this.powerType.length;i++){var g=void 0;(g=n(this.prop)).position=new o(0,this.details.getComponent(h).height/2-(100*i+50),0),this.details.addChild(g),g.getChildByName("dragonData").getChildByName("Label").getComponent(l).string=this.powerType[i],g.getChildByName("EditBox").getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=this.dragonArray[0].getComponent("Dragon")[this.powerType[i]],this.propArray.push(g)}for(var d=0;d<4;d++){var s;s=n(this.damageChance),this.viewForDamageChance.addChild(s),this.damChanceArray.push(s)}this.viewDamageChanceView(0)},t.showDetails=function(e){this.view.active=!0;for(var a=0;a<6;a++)this.dragonArray[a].name==e.target.getChildByName("Label").getComponent(l).string&&(this.index=a);for(var t=0;t<this.propArray.length;t++)this.propArray[t].getChildByName("EditBox").getChildByName("TEXT_LABEL").active=!1,this.propArray[t].getChildByName("EditBox").getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=this.dragonArray[this.index].getComponent("Dragon")[this.powerType[t]],this.propArray[t].getChildByName("EditBox").getChildByName("PLACEHOLDER_LABEL").active=!0;this.viewDamageChanceView(this.index)},t.updateButton=function(){for(var e=!1,a=0;a<this.powerType.length;a++)if(this.propArray[a].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(l).string){var t=this.powerType[a];this.dragonArray[this.index].getComponent("Dragon").CardsData[t]=+this.propArray[a].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(l).string,this.dragonArray[this.index].getComponent("Dragon").resetDragonAbiitly(),e=!0}for(var i=this.dragonArray[this.index].getComponent("Dragon").CardsData.CardData,r=0;r<this.damChanceArray.length;r++){var o=this.damChanceArray[r].getChildByName("belowLayout").getChildByName("chanceEditBox").getComponent(g),h=this.damChanceArray[r].getChildByName("belowLayout").getChildByName("damageEditBox").getComponent(g);h.textLabel.string&&(i[r].Damage=+h.textLabel.string,e=!0,h.string=""),o.textLabel.string&&(i[r].chance=+o.textLabel.string,e=!0,o.string="")}this.viewDamageChanceView(this.index),e&&this.node.parent.parent.addChild(n(this.updatedSuccessfully))},t.activeButton=function(){this.node.parent.active=!0},t.closeButton=function(){this.node.parent.active=!1},t.viewDamageChanceView=function(e){for(var a=this.dragonArray[e].getComponent("Dragon").CardsData.CardData,t=0;t<this.damChanceArray.length;t++){var i=this.damChanceArray[t].getChildByName("belowLayout").getChildByName("damage"),r=this.damChanceArray[t].getChildByName("belowLayout").getChildByName("damageEditBox");i.active=!0,r.active=!0;var n=this.damChanceArray[t].getChildByName("belowLayout").getChildByName("chance"),o=this.damChanceArray[t].getChildByName("belowLayout").getChildByName("chanceEditBox");n.active=!0,o.active=!0,this.damChanceArray[t].getChildByName("belowLayout").getChildByName("chanceEditBox").getChildByName("TEXT_LABEL").active=!1,this.damChanceArray[t].getChildByName("belowLayout").getChildByName("damageEditBox").getChildByName("TEXT_LABEL").active=!1,this.damChanceArray[t].getChildByName("belowLayout").getChildByName("chanceEditBox").getChildByName("PLACEHOLDER_LABEL").active=!0,this.damChanceArray[t].getChildByName("belowLayout").getChildByName("damageEditBox").getChildByName("PLACEHOLDER_LABEL").active=!0,this.damChanceArray[t].getChildByName("topLayout").getChildByName("cardName").getChildByName("Label").getComponent(l).string=a[t].Name,a[t].hasOwnProperty("Damage")?r.getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=a[t].Damage:(r.active=!1,i.active=!1),a[t].hasOwnProperty("chance")?o.getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=a[t].chance:(this.damChanceArray[t].getChildByName("belowLayout").getChildByName("chanceEditBox").enabled=!1,o.active=!1,n.active=!1)}},a}(d)).prototype,"button",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=s(D.prototype,"prop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=s(D.prototype,"view",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=s(D.prototype,"details",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=s(D.prototype,"damageChance",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=s(D.prototype,"viewForDamageChance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=s(D.prototype,"updatedSuccessfully",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Dragon.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,s,a,o,r,i,n,f,c,h,u,d,l,D,p,_,g,b,E,B,A,m,C,P,H,y,T,F,R,S;return{setters:[function(t){e=t.cclegacy,s=t._decorator,a=t.Prefab,o=t.Node,r=t.Label,i=t.Sprite,n=t.resources,f=t.SpriteFrame,c=t.JsonAsset,h=t.Animation,u=t.ProgressBar,d=t.instantiate,l=t.Component},function(t){D=t.applyDecoratedDescriptor,p=t.inheritsLoose,_=t.initializerDefineProperty,g=t.assertThisInitialized,b=t.extends},function(t){E=t.Effects,B=t.USER,A=t.Effect_Type,m=t.Effect_Target,C=t.DragonsCount,P=t.EffectStatus,H=t.EffectsProp,y=t.Booster,T=t.Base_Booster,F=t.count,R=t.BoostDependent},function(t){S=t.TeamManager}],execute:function(){var k,M,v,L,G,w,O,N,I,K,U,V,z,Z,x;e._RF.push({},"93cc2UZoadD/J8sRaz1v58A","Dragon",void 0);var j=s.ccclass,J=s.property;t("Dragon",(k=j("Dragon"),M=J({type:a}),v=J({type:o}),L=J({type:r}),G=J({type:r}),w=J({type:o}),O=J({type:i}),k((K=D((I=function(t){function e(){for(var e,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,_(e,"cardPrefab",K,g(e)),_(e,"Hp_Node",U,g(e)),_(e,"Max_Hp_Label",V,g(e)),_(e,"Cur_Hp_Label",z,g(e)),_(e,"skeleton",Z,g(e)),_(e,"iconSprite",x,g(e)),e.CardsData=null,e.dragonData=[],e.DragonsCard=[],e.DragonUser=null,e.HP=0,e.SPD=0,e.DEF=0,e.ATK=0,e.INT=0,e.Booster={DMG:1,DMG_RED:1,Taunt:0,EVD_BUFF:0,DMG_REF:{turn:0,ref:0},INV:0},e.Loosers={DMG_BOOST:{turn:0,ref:0},Heal_Block:0,FREZ:{turn:0,ref:0}},e.Buff_items=[],e.Dot_items=[],e.Effects=void 0,e.Buff_Status=!1,e.Buff_Duration_Round=0,e.powerCardsScript=void 0,e}p(e,t);var s=e.prototype;return s.start=function(){this.Effects=new E},s.loadRoomResource=function(t,e){return new Promise((function(s,a){n.load(t,e,(function(t,e){t?a(t):s(e)}))}))},s.setDragon=function(t,e){var s=this;this.DragonUser=e,this.node.name=t.species+" "+t.type,this.loadRoomResource(t.Image+"/spriteFrame",f).then((function(e){s.node.getComponent(i).spriteFrame=e,s.loadRoomResource("DragonsData/"+t.species+t.type,c).then((function(t){s.CardsData=t.json,s.resetDragonAbiitly(),s.setDragonCards(s.CardsData)})).catch((function(t){console.log("Error Loading Base URL")}))})).catch((function(t){console.log("Error Loading Base URL")})),t.Spine?n.loadDir(t.Spine,(function(e,a){for(var o=0;o<a.length;o++)if(a[o].skeletonJson){var r=Object.keys(a[o].skeletonJson.animations)[0],i=s.skeleton.getComponent("sp.Skeleton");i.skeletonData=a[o],i.setAnimation(0,r,!0),"Ice"!=t.type&&"Fire"!=t.type&&"Alien"!=t.type||i.node.setScale(.18,.18,.18);break}})):console.log("spine missing :: ",t),this.changeProgressBarIcon(t)},s.resetDragonAbiitly=function(){S.getInstance().getDragons(B.Player);this.HP=this.CardsData.HP,this.SPD=this.CardsData.SPD,this.INT=this.CardsData.INT,this.DEF=this.CardsData.DEF,this.ATK=this.CardsData.ATK,this.Max_Hp_Label.string=""+this.CardsData.HP,this.Cur_Hp_Label.string=""+this.CardsData.HP},s.AddEffect=function(t,e){for(var s=[],a=0;a<t.length;a++){var o=null;(o=b({},t[a])).status=!1,o.data=e,o.duration=parseInt(o.duration)+S.getInstance().getCurrentRound(),s.push(o)}return s},s.updateEffect=function(t,e){switch(void 0===e&&(e=null),t.EffectType){case A.BUFF:var s=this.AddEffect(t.Effects,e);this.Effects.buff=[].concat(this.Effects.buff,s);break;case A.HEAL:var a=this.AddEffect(t.Effects,e);this.Effects.heal=[].concat(this.Effects.heal,a);break;case A.DOT:var o=this.AddEffect(t.Effects,e);this.Effects.dot=[].concat(this.Effects.dot,o);break;case A.TAUNT:var r=this.AddEffect(t.Effects,e);this.Effects.taunt=[].concat(this.Effects.taunt,r);break;case A.DEBUFF:var i=this.AddEffect(t.Effects,e);this.Effects.debuff=[].concat(this.Effects.debuff,i);break;case A.SETUP:var n=this.AddEffect(t.Effects,e);this.Effects.setup=[].concat(this.Effects.setup,n);break;case A.REFLECT:}},s.heal_Dragon=function(t){this.Loosers.Heal_Block>0?--this.Loosers.Heal_Block:(this.node.getChildByName("HealCircle").getComponent(h).play(),this.node.getChildByName("HealPortal").getComponent(h).play(),this.HP+t>=this.CardsData.HP?this.HP=this.CardsData.HP:this.HP=this.HP+t,this.update_HP_View())},s.Buff_Damage_Boost=function(t){switch(t.boostTarget){case m.SLF_TEAM:var e=S.getInstance().getFightingDragons(this.DragonUser).length;e-=C,this.Booster.DMG=this.Booster.DMG+e*t.boost}},s.updateRoundData=function(){for(var t,e=Object.keys(this.Effects),s=0;s<e.length;s++)for(var a=this.Effects[e[s]],o=0;o<a.length;o++){var r=a[o].status,i=a[o].duration>S.getInstance().getCurrentRound();if(!r||!i){switch(t=i?P.Add:P.Remove,e[s]){case H.Buff:this.Add_Del_Buff(a[o],t),a[o].status=!0;break;case H.Dot:this.Add_Del_Dot(a[o],t);break;case H.Setup:this.Add_Del_Setup(a[o],t),a[o].status=!0;break;case H.Heal:this.Add_Del_HealBuff(a[o],t);break;case H.Debuff:this.Add_Del_Debuff(a[o],t),a[o].status=!0}!i&&a.splice(o,1)&&--o}}},s.resetAllBuff=function(){this.Effects.buff.length=0,this.Effects.dot.length=0,this.Effects.setup.length=0,this.Effects.heal.length=0,this.Effects.debuff.length=0,this.resetDragonAbiitly()},s.Add_Del_Debuff=function(t,e){switch(t.type){case y.HEAL_BLK:this.Loosers.Heal_Block=t.turn;break;case y.FRZ_ENY:this.Loosers.FREZ.turn=t.turn,this.Loosers.FREZ.ref=T+parseFloat(t.boost);break;case y.DMG_BOOST:this.Loosers.DMG_BOOST.turn=t.turn,this.Loosers.DMG_BOOST.ref=T+parseFloat(t.boost);break;case y.DEC_SPD:if(e==P.Add){this.SPD=this.SPD*parseFloat(t.boost);break}this.SPD=this.CardsData.SPD}},s.Add_Del_HealBuff=function(t,e){switch(t.type){case y.INC_HEAL:if(e==P.Add)switch(t.boostTarget){case R.ENY_DMG:var s=.5*t.data.damage;this.heal_Dragon(s);break;case R.DMG:this.heal_Dragon(t.data.damage);break;case R.MAX_Value:var a=this.CardsData.HP*parseFloat(t.boost);this.heal_Dragon(a);break;case R.Value:this.heal_Dragon(t.boost)}break;case y.RM_DB:e==P.Add&&(t.boostTarget==F.ONE?this.Effects.debuff.length>0&&(this.Effects.debuff.length=this.Effects.debuff.length-1):t.count==F.ALL&&(this.Effects.debuff.length=0))}},s.Add_Del_Setup=function(t,e){switch(t.type){case y.ATK_BOOST:e==P.Add?this.ATK=this.ATK*(2-this.HP/this.CardsData.HP):this.ATK=this.CardsData.ATK}},s.Add_Del_Dot=function(t,e){switch(t.type){case y.DMG:this.Reduce_HP(t.amount)}},s.BuffEndedCheck=function(){this.updateRoundData()},s.Add_Del_Buff=function(t,e){switch(t.type){case y.ATK_BOOST:if(e==P.Add)switch(t.boost_Dependent){case R.Value:this.ATK=this.ATK*t.boost;break;case R.Enemy_Debuff:this.ATK=this.ATK*(1+t.data.ENY_DRG.Effects.debuff.length*parseFloat(t.boost))}else this.ATK=this.CardsData.ATK;break;case y.DMG_BOOST:e==P.Add?this.Buff_Damage_Boost(t):this.Booster.DMG=T;break;case y.SPD_BOOST:e==P.Add?this.SPD=Math.round(this.SPD*(T+parseFloat(t.boost))):this.SPD=this.CardsData.SPD;break;case y.DMG_RED:e==P.Add?this.Booster.DMG_RED=parseFloat(t.boost):this.Booster.DMG_RED=T;break;case y.TAUNT:this.Booster.Taunt=t.turn;break;case y.EVD_BUFF:this.Booster.Evade_Buff=t.turn;break;case y.DMG_REF:this.Booster.DMG_REF.turn=t.turn,this.Booster.DMG_REF.ref=parseFloat(t.boost);break;case y.INV:this.Booster.INV=t.turn}},s.Damage_Dragon=function(t,e,s){if(this.powerCardsScript=s,this.Booster.INV>0)--this.Booster.INV;else{if(t.Booster.DMG>1&&(e*=t.Booster.DMG),this.Booster.DMG_REF.turn>0){--this.Booster.DMG_REF.turn;var a=e*parseFloat(this.Booster.DMG_REF.ref);t.Damage_Dragon(this,a,s),e-=a}this.Booster.DMG_RED<1&&(e*=this.Booster.DMG_RED),this.Loosers.DMG_BOOST.turn>0&&(--this.Loosers.DMG_BOOST.turn,e*=this.Loosers.DMG_BOOST.ref),this.Loosers.FREZ.turn>0&&(--this.Loosers.FREZ.turn,e*=this.Loosers.FREZ.ref),this.Reduce_HP(e)}},s.Reduce_HP=function(t){if(t=Math.round(t),console.log("Hp reduced",this.node.name),this.HP-t<=0)this.HP=0,this.update_HP_View(),this.powerCardsScript.RemoveCardsofRemovedDragon(this.node.name),S.getInstance().removeDragon(this.node.name),this.resetAllBuff(),this.playDeadAnimation();else{this.HP=this.HP-t;var e=this.node.getChildByName("dragonAnimation").getComponent(h);e.play(e.clips[0].name),this.update_HP_View()}},s.playDeadAnimation=function(){this.node.children.forEach((function(t){t.active=!t.active}))},s.update_HP_View=function(){var t=this.HP/this.CardsData.HP;this.Cur_Hp_Label.string=""+Math.round(this.HP),this.Hp_Node.getComponent(u).progress=t},s.setDragonCards=function(t){for(var e,s=0;s<t.CardData.length;s++)(e=d(this.cardPrefab)).getComponent("powerCard").setDragonCard(this.node.getComponent(i).spriteFrame,t.CardData[s],this.node.name),e.name=this.node.name,this.DragonsCard.push(e)},s.changeProgressBarIcon=function(t){var e=this,s=t.species+t.type+"BarIcon";n.load("DragonScene/"+s+"/spriteFrame",f,(function(t,s){e.iconSprite.spriteFrame=s}))},e}(l)).prototype,"cardPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=D(I.prototype,"Hp_Node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=D(I.prototype,"Max_Hp_Label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=D(I.prototype,"Cur_Hp_Label",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=D(I.prototype,"skeleton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=D(I.prototype,"iconSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=I))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/dragonBoard.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(e){"use strict";var r,t,n,a,o,i,c,l,s,g;return{setters:[function(e){r=e.cclegacy,t=e._decorator,n=e.Node,a=e.Sprite,o=e.Component},function(e){i=e.applyDecoratedDescriptor,c=e.inheritsLoose,l=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){g=e.TeamManager}],execute:function(){var u,p,d,f,m,y,D;r._RF.push({},"48efeMBhWlHh6xmkyvNDoEZ","dragonBoard",void 0);var h=t.ccclass,v=t.property;e("dragonBoard",(u=h("dragonBoard"),p=v({type:n}),d=v({type:a}),u((y=i((m=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,l(r,"DragonSelected",y,s(r)),l(r,"DragonImage",D,s(r)),r}c(r,e);var t=r.prototype;return t.setDragon=function(e){var r=g.getInstance().getUserDragonIndex(e);this.DragonImage.spriteFrame=r.getComponent(a).spriteFrame},t.toggleSelected=function(){this.DragonSelected.active=!this.DragonSelected.active},r}(o)).prototype,"DragonSelected",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(m.prototype,"DragonImage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/dragonDetails.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,i,r,a,o,s,l,g,d,c,u,h,p,C,m,y,D,f,b;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Node,r=t.SpriteFrame,a=t.Label,o=t.Sprite,s=t.Button,l=t.tween,g=t.Vec3,d=t.instantiate,c=t.Animation,u=t.director,h=t.Color,p=t.Component},function(t){C=t.applyDecoratedDescriptor,m=t.inheritsLoose,y=t.initializerDefineProperty,D=t.assertThisInitialized},function(t){f=t.USER},function(t){b=t.TeamManager}],execute:function(){var B,S,v,w,L,N,F,I,k,x,P,z,A,G,_,U,R,M,O,T,E,H,V,j,K,W,q,J,Q,X,Y,Z,$,tt,et,nt,it;e._RF.push({},"81be3CCOPVOD7zGRrmkfnLL","dragonDetails",void 0);var rt=n.ccclass,at=n.property;t("dragonDetails",(B=rt("dragonDetails"),S=at({type:i}),v=at({type:i}),w=at({type:r}),L=at({type:r}),N=at({type:r}),F=at({type:a}),I=at({type:o}),k=at({type:i}),x=at({type:a}),P=at({type:r}),z=at({type:r}),A=at({type:i}),G=at({type:i}),_=at({type:i}),U=at({type:s}),R=at({type:s}),M=at({type:i}),B((E=C((T=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,y(e,"BackGround",E,D(e)),y(e,"cardLayout",H,D(e)),y(e,"Pico_Ice",V,D(e)),y(e,"Grunt_Fire",j,D(e)),y(e,"Oly_Space",K,D(e)),y(e,"nameLabel",W,D(e)),y(e,"DragonSprite",q,D(e)),y(e,"DetailsButton",J,D(e)),y(e,"PowerLabel",Q,D(e)),y(e,"FiltersSprite",X,D(e)),y(e,"SortBySprite",Y,D(e)),y(e,"BaseAbilities",Z,D(e)),y(e,"LearnedAbilities",$,D(e)),y(e,"DragonCards",tt,D(e)),y(e,"DragonRightButton",et,D(e)),y(e,"DragonLeftButton",nt,D(e)),y(e,"popUpLayout",it,D(e)),e.selectedDragonIndex=1,e.layout=null,e.powerCards=[],e.dragons=[],e.currentState=1,e.Stars_Move=null,e.animationDropPlayed=!0,e}m(e,t);var n=e.prototype;return n.start=function(){this.Stars_Move=this.BackGround.getChildByName("Stars"),l(this.Stars_Move).repeatForever(l().by(1,{position:new g(0,10,1)}).by(1,{position:new g(0,-10,1)})).start(),this.dragons=[].concat(b.getInstance().getDragons(f.Player));var t=this.dragons[this.selectedDragonIndex].getComponent("Dragon");this.DragonSprite.getComponent(o).spriteFrame=this.dragons[this.selectedDragonIndex].getComponent(o).spriteFrame,this.nameLabel.string=this.dragons[this.selectedDragonIndex].name,this.setPowerDragon(t);for(var e=0;e<t.DragonsCard.length;e++){var n=d(t.DragonsCard[e]);n.on(i.EventType.MOUSE_DOWN,this.cardSelected,this),n.Details=n.getChildByName("Custom").getChildByName("powerCard2").getChildByName("Label").getComponent(a).string,this.cardLayout.addChild(n),this.powerCards.push(n)}for(var r=0;r<this.dragons.length;r++)this.DragonCards.getChildByName("DragonConfirmCard"+r).getChildByName("Dragon").getComponent(o).spriteFrame=this.dragons[r].getComponent(o).spriteFrame;this.DetailsButton[0].getComponent(c).on("finished",this.onFinishedAnimation,this);var s=this.DetailsButton[0].getComponent(c);this.DetailsButton[0].getComponent(c).createState(s.clips[0],"reverse").wrapMode=36},n.cardSelected=function(t){var e=this;this.popUpLayout.getChildByName("CardAndDetail").getChildByName("Details").getChildByName("CardDetails").getComponent(a).string=t.target.Details,this.popUpLayout.getChildByName("CardAndDetail").getChildByName("Shadow").getChildByName("SelectedImage").getComponent(o).spriteFrame=t.target.getComponent(o).spriteFrame;var n=this.popUpLayout.getChildByName("Cancel");n.active=!1,l(this.cardLayout).to(.23,{scale:new g(.25,.25,.25)}).call((function(){e.cardLayout.active=!1,e.popUpLayout.setScale(.25,.25,.25)})).call((function(){l(e.popUpLayout).call((function(){e.popUpLayout.active=!0})).to(.25,{scale:new g(1,1,1)}).call((function(){n.active=!0})).start()})).start()},n.closePopUp=function(){var t=this,e=this.popUpLayout.getChildByName("Cancel");l(this.popUpLayout).call((function(){e.active=!1})).to(.23,{scale:new g(.25,.25,.25)}).call((function(){t.popUpLayout.active=!1,t.cardLayout.active=!0})).call((function(){l(t.cardLayout).to(.25,{scale:new g(1,1,1)}).start()})).start()},n.backButtonClick=function(){u.loadScene("Home")},n.leftArrowClick=function(){this.selectedDragonIndex>0&&this.setSelectedDragon(this.selectedDragonIndex-1)&&this.onDragonCardLeftClick()},n.rightArrowClick=function(){this.selectedDragonIndex<this.dragons.length-1&&this.setSelectedDragon(this.selectedDragonIndex+1)&&this.onDragonCardRightClick()},n.onFinished=function(t){console.log("Index",t);1==this.selectedDragonIndex?this.setBackGorund(this.Pico_Ice):0==this.selectedDragonIndex?this.setBackGorund(this.Grunt_Fire):this.setBackGorund(this.Oly_Space),this.BackGround.getComponent(c).off("finished"),this.BackGround.getComponent(c).play("Fade_In")},n.setBackGorund=function(t){this.BackGround.getComponent(o).spriteFrame=t[0],this.BackGround.getChildByName("Stars").getComponent(o).spriteFrame=t[1],this.BackGround.getChildByName("Base").getComponent(o).spriteFrame=t[2]},n.setSelectedDragon=function(t){this.BackGround.getComponent(c).play("FadeOut");this.BackGround.getComponent(c).on("finished",this.onFinished,this);var e=this.dragons[t].getComponent("Dragon");this.setPowerDragon(e),this.DragonSprite.getComponent(o).spriteFrame=this.dragons[t].getComponent(o).spriteFrame,this.nameLabel.string=this.dragons[t].name;for(var n=0;n<e.DragonsCard.length;n++)this.powerCards[n].getComponent(o).spriteFrame=e.DragonsCard[n].getComponent(o).spriteFrame,this.powerCards[n].Details=e.DragonsCard[n].getChildByName("Custom").getChildByName("powerCard2").getChildByName("Label").getComponent(a).string;return this.selectedDragonIndex=t,!0},n.setPowerDragon=function(t){this.PowerLabel[0].string=t.HP,this.PowerLabel[1].string=t.ATK,this.PowerLabel[2].string=t.DEF,this.PowerLabel[3].string=t.INT,this.PowerLabel[4].string=t.SPD},n.onDetailsButtonClick=function(){var t=this.DetailsButton[0].getComponent(c);this.DetailsButton[0].active?t.play("detailsButtonDrop"):(this.DetailsButton[0].active=!0,this.DetailsButton[1].active=!1,t.play("reverse"))},n.onFinishedAnimation=function(){this.animationDropPlayed?(this.DetailsButton[0].active=!1,this.DetailsButton[1].active=!0):(this.DetailsButton[1].active=!1,this.DetailsButton[0].active=!0),this.animationDropPlayed=!this.animationDropPlayed},n.onFilterClick=function(t){for(var e=0;e<2;e++)if(t.target.getComponent(o).spriteFrame==this.FiltersSprite[e]){t.target.getComponent(o).spriteFrame=this.FiltersSprite[+!e];break}},n.onSortByClick=function(t){for(var e=0;e<2;e++)if(t.target.getComponent(o).spriteFrame==this.SortBySprite[e]){t.target.getComponent(o).spriteFrame=this.SortBySprite[+!e];break}},n.onLearnedAbilitiesClick=function(){this.BaseAbilities.active=!1,this.LearnedAbilities.active=!0,this.cardLayout.active=!1},n.onBaseAbilitiesClick=function(){this.BaseAbilities.active=!0,this.LearnedAbilities.active=!1,this.cardLayout.active=!0},n.onDragonCardLeftClick=function(){var t=this,e=this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).getSiblingIndex(),n=this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState-1)).getSiblingIndex();if(this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState-1)).setSiblingIndex(e),1==this.currentState){var i=this.DragonCards.getChildByName("DragonConfirmCard2").getSiblingIndex();this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(i),this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).setSiblingIndex(n)}else this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(n);this.currentState-=1;for(var r=0;r<this.DragonCards.children.length;r++){var a=this.DragonCards.getChildByName("DragonConfirmCard"+r),s=a.getChildByName("Transparency");2!=a.getSiblingIndex()?s.getComponent(o).color=new h(0,0,0,75):s.getComponent(o).color=new h(0,0,0,0),l(a).call((function(){t.DragonLeftButton.enabled=!1,t.DragonRightButton.enabled=!1})).by(.5,{position:new g(110,0,0)}).call((function(){t.DragonRightButton.enabled=!0,0!=t.currentState&&(t.DragonLeftButton.enabled=!0)})).start()}},n.onDragonCardRightClick=function(){var t=this,e=this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).getSiblingIndex(),n=this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).getSiblingIndex();if(this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).setSiblingIndex(e),0==this.currentState){var i=this.DragonCards.getChildByName("DragonConfirmCard2").getSiblingIndex();this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(i),this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+2)).setSiblingIndex(n)}else this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(n);this.currentState+=1;for(var r=0;r<this.DragonCards.children.length;r++){var a=this.DragonCards.getChildByName("DragonConfirmCard"+r),s=a.getChildByName("Transparency");2!=a.getSiblingIndex()?s.getComponent(o).color=new h(0,0,0,75):s.getComponent(o).color=new h(0,0,0,0),l(a).call((function(){t.DragonLeftButton.enabled=!1,t.DragonRightButton.enabled=!1})).by(.5,{position:new g(-110,0,0)}).call((function(){t.DragonLeftButton.enabled=!0,2!=t.currentState&&(t.DragonRightButton.enabled=!0)})).start()}},e}(p)).prototype,"BackGround",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=C(T.prototype,"cardLayout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=C(T.prototype,"Pico_Ice",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=C(T.prototype,"Grunt_Fire",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=C(T.prototype,"Oly_Space",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=C(T.prototype,"nameLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=C(T.prototype,"DragonSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=C(T.prototype,"DetailsButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=C(T.prototype,"PowerLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=C(T.prototype,"FiltersSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=C(T.prototype,"SortBySprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=C(T.prototype,"BaseAbilities",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=C(T.prototype,"LearnedAbilities",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=C(T.prototype,"DragonCards",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=C(T.prototype,"DragonRightButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=C(T.prototype,"DragonLeftButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=C(T.prototype,"popUpLayout",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T))||O));e._RF.pop()}}}));

System.register("chunks:///_virtual/DragonSequence.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var r,t,a,n,i,o,c,s,u,l,p;return{setters:[function(e){r=e.cclegacy,t=e._decorator,a=e.Prefab,n=e.Node,i=e.instantiate,o=e.Sprite,c=e.Component},function(e){s=e.applyDecoratedDescriptor,u=e.inheritsLoose,l=e.initializerDefineProperty,p=e.assertThisInitialized}],execute:function(){var d,f,y,g,h,b,C;r._RF.push({},"640baX9qd9MQI1eD1A2fjrY","DragonSequence",void 0);var D=t.ccclass,v=t.property;e("DragonSequence",(d=D("DragonSequence"),f=v({type:a}),y=v({type:n}),d((b=s((h=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,l(r,"selectedCardPrefab",b,p(r)),l(r,"cardsLayout",C,p(r)),r.powerCards=[],r}u(r,e);var t=r.prototype;return t.start=function(){},t.addCard=function(e){var r=i(this.selectedCardPrefab);this.cardsLayout.addChild(r),this.powerCards.push(r),r.getChildByName("Dragon").getComponent(o).spriteFrame=e},r}(c)).prototype,"selectedCardPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=s(h.prototype,"cardsLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTeam.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts","./CardsControl.ts","./Utility.ts"],(function(t){"use strict";var e,a,n,r,o,i,s,c,g,l,p,u,f,h,d,D,T,m,v,C,y,_,E,P,A,I,b;return{setters:[function(t){e=t.cclegacy,a=t._decorator,n=t.Node,r=t.Prefab,o=t.UITransform,i=t.instantiate,s=t.Vec3,c=t.Vec2,g=t.tween,l=t.Component},function(t){p=t.applyDecoratedDescriptor,u=t.inheritsLoose,f=t.initializerDefineProperty,h=t.assertThisInitialized},function(t){d=t.USER,D=t.Card_Type,T=t.Traget,m=t.Reach,v=t.Damage_Type,C=t.Max_Base,y=t.Damage,_=t.Game_Dynamics,E=t.Effect_Target},function(t){P=t.TeamManager},function(t){A=t.CardsControl},function(t){I=t.getCloseNode,b=t.RNG}],execute:function(){var w,N,S,R,U,k,M,F,L;e._RF.push({},"258db3zLZtN74UUzQadm6Jx","DragonTeam",void 0);var B=a.ccclass,H=a.property;t("DragonTeam",(w=B("DragonTeam"),N=H({type:n}),S=H({type:A}),R=H({type:r}),w((M=p((k=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,f(e,"DragonTurn",M,h(e)),f(e,"powerCards",F,h(e)),f(e,"AttackPrfab",L,h(e)),e.cardsData=[],e.parentSCRT=null,e.DragonTurn_Scr=null,e.curCard=0,e.CardsArray=[],e.AttackAnim=null,e.tempMulti=void 0,e.particleCount=void 0,e.particleSpeed=1e3,e}u(e,t);var a=e.prototype;return a.start=function(){this.DragonTurn_Scr=this.DragonTurn.getComponent("DragonTurn"),this.parentSCRT=this.node.parent.getComponent("gamePlay"),this.setupDragons(d.Player,200,100),this.setupDragons(d.Computer,200,100)},a.setUpCardsRound=function(t){if(void 0===t&&(t=null),t&&(this.cardsData=t),this.cardsData.length){var e=this.cardsData.shift();this.drawCard(e.dragonName,e.cardData)}else this.parentSCRT.resetCountdown()},a.setupDragons=function(t,e,a){var n=[];t==d.Computer||(e=-e);var r=e,i=-.14*this.node.getComponent(o).height;n=P.getInstance().getDragons(t);for(var s=0;s<n.length;s++)this.node.addChild(n[s]),n[s].setPosition(r,i,1),s%2!=0?i-=a:i+=a,r+=e},a.moveParticle=function(t){var e=i(this.AttackPrfab);this.node.addChild(e),e.position=new s(t[0][0],t[0][1],0),this.tempMulti=t,this.particleCount=1,this.moveToNextPoint(e,t,1)},a.moveToNextPoint=function(t,e,a){var n=this,r=this.distBtw2Points(new c(e[a-1][0],e[a-1][1]),new c(e[a][0],e[a][1]))/this.particleSpeed,o=e[a-1][0]-e[a][0],i=e[a-1][1]-e[a][1],l=180*Math.atan2(o,i)/Math.PI;g(t).to(r,{position:new s(e[a][0],e[a][1],0),angle:-1*l+90}).call((function(){++a<e.length?n.moveToNextPoint(t,e,a):t.destroy()})).start()},a.distBtw2Points=function(t,e){var a=t.x-e.x,n=t.y-e.y;return Math.sqrt(Math.pow(a,2)+Math.pow(n,2))},a.getPoints=function(t,e,a){var n=s.distance(t.position,e.position)/2,r=(t.position.x+e.position.x)/2,o=(t.position.y+e.position.y)/2,i=[];if(a==d.Player)for(var c=180;c>0;c-=20){var g=r+n*Math.cos(.0174533*c),l=o+n*Math.sin(.0174533*c);i.push([g,l])}else for(var p=0;p<180;p+=20){var u=r+n*Math.cos(.0174533*p),f=o+n*Math.sin(.0174533*p);i.push([u,f])}this.moveParticle(i)},a.validate_Target=function(t,e){for(var a=P.getInstance().getDragons(t),n=0;n<a.length;n++){var r=a[n].getComponent("Dragon");if(r.Booster.Taunt>0)return--r.Booster.Taunt,a[n]}return e},a.AttackTweening=function(t,e){var a=this;if(0!=e.length){var n=e.pop(),r=n.eny,o=(r.getPosition(),t.getPosition(),P.getInstance().getDragonUser(t.name));g(t).call((function(){a.getPoints(t,r,o)})).delay(1).call((function(){r.getComponent("Dragon").Damage_Dragon(t.getComponent("Dragon"),n.damage,a.powerCards),a.AttackTweening(t,e)})).start()}else this.setUpCardsRound()},a.playAniamtion=function(t,e,a){var n=this;a?this.AttackTweening(t,e):g(t).by(.2,{position:new s(10,10,1)}).by(.2,{position:new s(-10,-10,1)}).by(.2,{position:new s(10,10,1)}).by(.2,{position:new s(-10,-10,1)}).by(.1,{position:new s(10,10,1)}).by(.1,{position:new s(-10,-10,1)}).delay(.5).call((function(){n.setUpCardsRound()})).start()},a.drawCard=function(t,e){if(console.log("name",t,"Card data ",e),null==P.getInstance().getDragonUser(t))return this.DragonTurn_Scr.removeCard(t),void this.setUpCardsRound();var a=P.getInstance().getDragonUser(t),n=this.node.getChildByName(t),r=n.getComponent("Dragon"),o=P.getInstance().getDragons(Math.abs(a-1));if(0==o.length)return this.DragonTurn_Scr.removeCard(t),void this.setUpCardsRound();var i=I(o,n),s=null;if(e.CardType==D.Attack)if(e.Target==T.ENY){var c=[];if(e.Reach==m.ST)s=(i=this.validate_Target(Math.abs(a-1),i)).getComponent("Dragon"),c.push({eny:i,damage:0});else if(e.Reach==m.AOE)for(var g=0;g<o.length;g++)c.push({eny:o[g],damage:0});for(var l=0;l<c.length;l++){var p=0;e.DamageType==v.PHY?p=this.PhyscialAttack(r,c[l].eny.getComponent("Dragon"),e):e.DamageType==v.SKL&&(p=this.SkillBasedAttack(r,c[l].eny.getComponent("Dragon"),e)),c[l].damage=p}this.playAniamtion(n,c,!0)}else e.Target==T.SLF&&b(0,100)<e.chance&&(this.Effect_Update(s,r,e,{}),this.playAniamtion(n,[i],!1));else(e.CardType==D.Defense||e.CardType==D.Heal)&&(s=i.getComponent("Dragon"),this.Effect_Update(s,r,e,{}),this.playAniamtion(n,[i],!1));this.DragonTurn_Scr.removeCard(t)},a.SkillBasedAttack=function(t,e,a){var n=t.INT/C.INIT+t.ATK/C.ATK-(e.HP/C.HP+e.INT/C.INIT),r=parseFloat(a.Damage)+a.Damage*n,o=this.DragonAttackEvasion(t,e);b(0,100)<o.prob?r*=y.EVADED:b(0,100)<_.CRIICAL_HIT_PROB&&(r=r*y.CRITICAL_HIT*o.evn_Penalty);var i=r*o.evn_Penalty;return b(0,100)<a.chance&&this.Effect_Update(e,t,a,{damage:r,ATK_DRG:t,ENY_DRG:e}),i},a.PhyscialAttack=function(t,e,a){var n=t.SPD/C.SPD+t.ATK/C.ATK-(e.HP/C.HP+e.DEF/C.DEF),r=parseFloat(a.Damage)+a.Damage*n,o=this.DragonAttackEvasion(t,e);b(0,100)<o.prob?r*=y.EVADED:b(0,100)<_.CRIICAL_HIT_PROB&&(r=r*y.CRITICAL_HIT*o.evn_Penalty);var i=r*o.evn_Penalty;return b(0,100)<a.chance&&this.Effect_Update(e,t,a,{damage:r,ATK_DRG:t,ENY_DRG:e}),i},a.Effect_Update=function(t,e,a,n){switch(a.EffectTarget){case E.SLF:case E.TEAM:e.updateEffect(a,n);break;case E.MULT:for(var r=0;r<a.Effects.length;r++)a.EffectTarget=a.Effects[r].effectTarget,this.Effect_Update(t,e,a,n);break;case E.ENY_TEAM:for(var o=P.getInstance().getFightingDragons(t.DragonUser),i=0;i<o.length;i++)o[i].Data.updateEffect(a,n);break;case E.SLF_TEAM:for(var s=P.getInstance().getFightingDragons(e.DragonUser),c=0;c<s.length;c++)s[c].Data.updateEffect(a,n);break;case E.ALY_LOW_HP:P.getInstance().get_Dragon_LowHP(e.DragonUser).Data.updateEffect(a,n);break;case E.ENY:t.updateEffect(a,n)}},a.DragonAttackEvasion=function(t,e){var a=e.SPD/C.SPD*(e.INT/C.INIT),n=t.SPD/C.SPD*(t.INT/C.INIT),r=1;e.Booster.EVD_BUFF>0&&(--e.Booster.EVD_BUFF,n*=y.EVADE_INC,r=y.EVADE_PENALTY);var o=a-n+a,i=Math.max(0,o);return{prob:i*=_.EVASION_COEFFICIENT,evn_Penalty:r}},e}(l)).prototype,"DragonTurn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=p(k.prototype,"powerCards",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=p(k.prototype,"AttackPrfab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=k))||U));e._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTurn.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var r,t,a,n,o,i,u,s,l,p,d,c,y,g,f;return{setters:[function(e){r=e.cclegacy,t=e._decorator,a=e.Prefab,n=e.Node,o=e.instantiate,i=e.resources,u=e.SpriteFrame,s=e.Sprite,l=e.Component},function(e){p=e.applyDecoratedDescriptor,d=e.inheritsLoose,c=e.initializerDefineProperty,y=e.assertThisInitialized},function(e){g=e.USER},function(e){f=e.TeamManager}],execute:function(){var h,m,C,b,L,P,v,D,S,F,B;r._RF.push({},"05968nhrBhLgJjoSAo7ULvA","DragonTurn",void 0);var T=t.ccclass,z=t.property;e("DragonTurn",(h=T("DragonTurn"),m=z({type:a}),C=z({type:a}),b=z({type:n}),L=z({type:n}),h((D=p((v=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,c(r,"DragonFrame",D,y(r)),c(r,"CardsBackPrefab",S,y(r)),c(r,"PlayerLayout",F,y(r)),c(r,"ComputerLayout",B,y(r)),r.speedCards=[],r}d(r,e);var t=r.prototype;return t.start=function(){},t.onLoad=function(){this.addCardOnLayout()},t.addCardOnLayout=function(){for(var e=f.getInstance().getDragonsSpeedOrder(),r=0;r<e.length;r++)e[r].user==g.Player?this.supportingUISetup(e[r].Node,r,g.Player):this.supportingUISetup(e[r].Node,r,g.Computer)},t.changeSiblingIndex=function(){},t.supportingUISetup=function(e,r,t){var a=o(this.DragonFrame);g.Player==t?this.PlayerLayout.addChild(a):this.ComputerLayout.addChild(a),i.load("DragonFrames/"+e.name.split(" ").join("")+"/spriteFrame",u,(function(e,r){console.log(r),a.getChildByName("Dragon").getComponent(s).spriteFrame=r})),a.name=e.name},t.setCard=function(e,r){var t=(e==g.Player?this.PlayerLayout:this.ComputerLayout).getChildByName(r).getChildByName("CardSelected"),a=o(this.CardsBackPrefab);t.addChild(a),a.name=r,this.speedCards.push(a)},t.removeCard=function(e){for(var r=this.speedCards.length-1;r>=0;r--)if(e===this.speedCards[r].name){this.speedCards[r].destroy();break}},t.addSelectedCard=function(e){},r}(l)).prototype,"DragonFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=p(v.prototype,"CardsBackPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=p(v.prototype,"PlayerLayout",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=p(v.prototype,"ComputerLayout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=v))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts","./CardsControl.ts","./DragonTeam.ts","./DragonTurn.ts"],(function(t){"use strict";var e,n,r,a,o,i,u,s,c,d,l,g,p,h,f,C,y;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.Node,a=t.Label,o=t.CCInteger,i=t.director,u=t.Component},function(t){s=t.applyDecoratedDescriptor,c=t.inheritsLoose,d=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){g=t.Round_INC,p=t.USER},function(t){h=t.TeamManager},function(t){f=t.CardsControl},function(t){C=t.DragonTeam},function(t){y=t.DragonTurn}],execute:function(){var D,b,m,w,R,E,v,I,T,L,S,z,_,P,B,F,N,U,k,G,M;e._RF.push({},"6a4daXUUPZFb4JoUBzDIyUb","GamePlay",void 0);var x=n.ccclass,H=n.property;t("gamePlay",(D=x("gamePlay"),b=H({type:f}),m=H({type:y}),w=H({type:C}),R=H({type:r}),E=H({type:a}),v=H({type:o}),I=H({type:a}),T=H({type:a}),L=H({type:r}),D((_=s((z=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,d(e,"powerCards",_,l(e)),d(e,"dragonTurn",P,l(e)),d(e,"DragonsTeam",B,l(e)),d(e,"EndRoundButton",F,l(e)),d(e,"countDown",N,l(e)),d(e,"RoundDurationSec",U,l(e)),d(e,"EnergyLeftLabel",k,l(e)),d(e,"CurRound",G,l(e)),d(e,"Challenge_Bg",M,l(e)),e.cardData=[],e.counter=0,e}c(e,t);var n=e.prototype;return n.start=function(){this.startCountDown(),h.getInstance().setCurrentRound(g),this.CurRound.string=""+h.getInstance().getCurrentRound(),this.powerCards.checkCurrentCards()},n.startGameplay=function(){},n.startCountDown=function(){this.counter=this.RoundDurationSec,this.schedule(this.decreaseCountdown,1,this.RoundDurationSec,0),this.updateEnergyLabel()},n.resetCountdown=function(){this.update_Dragons_Data(),h.getInstance().updateEnergy(),this.updateEnergyLabel(),this.startCountDown(),this.EndRoundButton.active=!0},n.update_Dragons_Data=function(){for(var t=h.getInstance().getDragonsSpeedOrder(),e=0;e<t.length;e++)t[e].Data.BuffEndedCheck();h.getInstance().sortDragons(),h.getInstance().setCurrentRound(g),this.CurRound.string=""+h.getInstance().getCurrentRound()},n.cardSelected=function(t,e){this.cardData.push({dragonName:t,cardData:e}),this.dragonTurn.setCard(p.Player,t),this.powerCards.updateCurrentCards(e),this.updateEnergyLabel()},n.updateEnergyLabel=function(){this.EnergyLeftLabel.string=""+h.getInstance().getCurrentEnegy()},n.ExitGamePlay=function(){h.getInstance().resetCurrentRound(),h.getInstance().setDefaultEnergy(),i.loadScene("Home")},n.decreaseCountdown=function(){this.countDown.string=""+this.counter,--this.counter,this.counter<=0&&this.roundEnded()},n.roundEnded=function(){this.EndRoundButton.active=!1,this.unschedule(this.decreaseCountdown),h.getInstance().setFightingDragons(),this.powerCards.RandomCardsSetup(p.Player),this.powerCards.RandomCardsSetup(p.Computer),this.powerCards.checkCurrentCards(),this.selectCardsForComputer(),this.cardData.length>0?this.DragonsTeam.setUpCardsRound(this.cardData):this.resetCountdown()},n.selectCardsForComputer=function(){var t=this,e=this.powerCards.cardsToSelectForComputer();if(e){for(var n=0;n<e.length;n++)this.dragonTurn.setCard(p.Computer,e[n].dragonName);var r=h.getInstance().getDragonsSpeedOrder();e.forEach((function(e){return t.cardData.push(e)}));for(var a=0,o=0;o<r.length;o++)for(var i=r[o].Node.name,u=0;u<this.cardData.length;u++)if(this.cardData[u].dragonName==i){var s=this.cardData[a];this.cardData[a]=this.cardData[u],this.cardData[u]=s,a++}}},e}(u)).prototype,"powerCards",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=s(z.prototype,"dragonTurn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=s(z.prototype,"DragonsTeam",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=s(z.prototype,"EndRoundButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=s(z.prototype,"countDown",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=s(z.prototype,"RoundDurationSec",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),k=s(z.prototype,"EnergyLeftLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=s(z.prototype,"CurRound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=s(z.prototype,"Challenge_Bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z))||S));e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScript.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,o,a,i,r,u,l,s,c,g,p,h,f,d,m,b;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.JsonAsset,a=t.Prefab,i=t.Node,r=t.CCInteger,u=t.tween,l=t.Vec3,s=t.instantiate,c=t.director,g=t.Component},function(t){p=t.applyDecoratedDescriptor,h=t.inheritsLoose,f=t.initializerDefineProperty,d=t.assertThisInitialized},function(t){m=t.USER},function(t){b=t.TeamManager}],execute:function(){var y,D,v,B,P,C,M,w,A,_,S,E,L,N,z,I,k,R,F,T,H;e._RF.push({},"ab569UGGgpNRJjBmXgcwbDE","HomeScript",void 0);var U=n.ccclass,G=n.property;t("HomeScript",(y=U("HomeScript"),D=G({type:o}),v=G({type:a}),B=G({type:a}),P=G({type:i}),C=G({type:a}),M=G({type:a}),w=G({type:r}),A=G({type:a}),_=G(i),y((L=p((E=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,f(e,"DragonsData",L,d(e)),f(e,"DragonPrefab",N,d(e)),f(e,"BattleField",z,d(e)),f(e,"skeletonNode",I,d(e)),f(e,"comingSoonPrefab",k,d(e)),f(e,"DragonDetails",R,d(e)),f(e,"DragonsCount",F,d(e)),f(e,"Debug_Menu",T,d(e)),f(e,"AllButtonLayout",H,d(e)),e.debugg_Menu=null,e.setCard=2,e.setParticularDragon=!1,e.onButtonMouseEnter=function(t){u(t.target).to(.3,{scale:new l(1.2,1.2,1)}).start()},e.onButtonMouseLeave=function(t){u(t.target).to(.3,{scale:new l(1,1,1)}).start()},e}h(e,t);var n=e.prototype;return n.start=function(){var t=this.getRandomDragons();b.getInstance().setDragons(t[m.Computer],m.Computer),b.getInstance().setDragons(t[m.Player],m.Player),b.getInstance().setFightingDragons(),b.getInstance().animated||(this.node.getChildByName("PlayDemo").setPosition(0,-726.25,0),this.AllButtonLayout.children.forEach((function(t){t.setPosition(0,425,0)})),this.AnimatePlayDemo(),this.AnimateAllButtonLayout(this.AllButtonLayout.children,180,0)),this.rubberAnimation(),this.registerButtonAnimation()},n.registerButtonAnimation=function(){var t=this;this.AllButtonLayout.children.forEach((function(e){e.on(i.EventType.MOUSE_ENTER,t.onButtonMouseEnter),e.on(i.EventType.MOUSE_LEAVE,t.onButtonMouseLeave)}))},n.rubberAnimation=function(){u(this.node.getChildByName("PlayDemo")).repeatForever(u(this.node.getChildByName("PlayDemo")).delay(3).to(.2,{scale:new l(.55,.45,1)}).to(.2,{scale:new l(.5,.5,1)})).start()},n.AnimatePlayDemo=function(){u(this.node.getChildByName("PlayDemo")).to(.3,{position:new l(0,-200,0)}).to(.2,{position:new l(0,-283.5,0)}).start()},n.AnimateAllButtonLayout=function(t,e,n){var o=this;if(3!=n){var a=t[0].getPosition();u(a).to(.3,new l(e,0,1),{onUpdate:function(e,o){for(var a=0;a<t.length-n;a++)t[a].position=e},easing:"sineIn"}).call((function(){o.AnimateAllButtonLayout(t,e-180,n+1)})).start()}else b.getInstance().animated=!0},n.Debugg_Menu=function(){this.debugg_Menu?this.debugg_Menu.active=!0:(this.debugg_Menu=s(this.Debug_Menu),this.node.addChild(this.debugg_Menu))},n.removeDebuggMenu=function(){this.debugg_Menu&&(this.node.removeChild(this.debugg_Menu),this.debugg_Menu=null)},n.LoadGamePlay=function(t){u(t.target).delay(.1).to(.3,{position:new l(0,-726.5,0)}).call((function(){c.loadScene("GamePlay")})).start()},n.getRandomDragons=function(){for(var t=this.DragonsData.json,e=(Array.apply(null,{length:t.Data.length}).map(Number.call,Number),[]),n=[],o=null,a=null,i=0;i<2*this.DragonsCount;i++)i<3?(a=(o=s(this.DragonPrefab)).getComponent("Dragon"),e.push(o),a.setDragon(t.Data[i],m.Player)):(a=(o=s(this.DragonPrefab)).getComponent("Dragon"),n.push(o),a.setDragon(t.Data[i],m.Computer));return[n,e]},n.Show_Dragons=function(){c.loadScene("Inventory")},n.backButtonclick=function(t,e){var n=this.node.parent.getChildByName(e);n.active=!n.active,this.node.active=!this.node.active},n.InvntoryClick=function(){this.node.addChild(s(this.comingSoonPrefab))},n.onStartBattleButtonClick=function(){this.node.addChild(s(this.comingSoonPrefab))},n.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e}(g)).prototype,"DragonsData",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=p(E.prototype,"DragonPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=p(E.prototype,"BattleField",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=p(E.prototype,"skeletonNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=p(E.prototype,"comingSoonPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=p(E.prototype,"DragonDetails",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=p(E.prototype,"DragonsCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=p(E.prototype,"Debug_Menu",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=p(E.prototype,"AllButtonLayout",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=E))||S));e._RF.pop()}}}));

System.register("chunks:///_virtual/Inventory.ts",["cc","./CardManager.ts","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,r,a,i,o,s,l,d,c,u,g,h,f,p,C,m,b,y,S;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Node,a=e.Label,i=e.Sprite,o=e.Button,s=e.ProgressBar,l=e.resources,d=e.SpriteFrame,c=e.UITransformComponent,u=e.Animation,g=e.tween,h=e.Vec3,f=e.director,p=e.Component},function(e){C=e.CardManager},function(e){m=e.applyDecoratedDescriptor,b=e.inheritsLoose,y=e.initializerDefineProperty,S=e.assertThisInitialized}],execute:function(){var B,I,D,v,w,A,P,N,x,k,z,F,_,O,V,T,L,G,H,R,E,U,K,M,W,j,J,Z,q,Q,X,Y,$,ee,te,ne,re,ae,ie,oe,se,le,de,ce,ue,ge,he,fe,pe,Ce,me,be,ye,Se,Be,Ie,De;t._RF.push({},"5ac8djtsWdH44V4slZ1S2Vd","Inventory",void 0);var ve=n.ccclass,we=n.property;e("Inventory",(B=ve("Inventory"),I=we(r),D=we(r),v=we(r),w=we(r),A=we(r),P=we(r),N=we(r),x=we(r),k=we(a),z=we(i),F=we(r),_=we(o),O=we(o),V=we(i),T=we(s),L=we(a),G=we(i),H=we(i),R=we(i),E=we(r),U=we(r),K=we(r),M=we(a),W=we(a),j=we(a),J=we(a),Z=we(a),B((X=m((Q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,y(t,"learnedNode",X,S(t)),y(t,"learnedSelected",Y,S(t)),y(t,"baseNode",$,S(t)),y(t,"baseSelected",ee,S(t)),y(t,"cards",te,S(t)),y(t,"cardsCointainter",ne,S(t)),y(t,"detailCardContainter",re,S(t)),y(t,"detailCardNode",ae,S(t)),y(t,"cardDetailText",ie,S(t)),y(t,"dragonNameSprite",oe,S(t)),y(t,"dragonNode",se,S(t)),y(t,"dragonLeftButton",le,S(t)),y(t,"dragonRightButton",de,S(t)),y(t,"progressBarIcon",ce,S(t)),y(t,"progressBar",ue,S(t)),y(t,"progressBarHP",ge,S(t)),y(t,"sky_BG",he,S(t)),y(t,"sky_Base",fe,S(t)),y(t,"sky_Stars",pe,S(t)),y(t,"dragonCardsOnPageView",Ce,S(t)),y(t,"flagOpened",me,S(t)),y(t,"flagClosed",be,S(t)),y(t,"dragonHP",ye,S(t)),y(t,"dragonATK",Se,S(t)),y(t,"dragonDEF",Be,S(t)),y(t,"dragonINT",Ie,S(t)),y(t,"dragonSPD",De,S(t)),t.gruntCardsArray=null,t.AlexCardsArray=null,t.PicoIceCardsArray=null,t.currentSelectIndex=1,t.currentSelectedArray=null,t.animationDropPlayed=!0,t.dragonInfo=null,t.dragonsNameArray=["Grunt","Alexander","PicoIce"],t}b(t,e);var n=t.prototype;return n.onLoad=function(){},n.start=function(){this.baseButtonCB(Event," "),this.currentSelectIndex=2,this.gruntCardsArray=[],this.gruntCardsArray=[],this.gruntCardsArray=[],this.currentSelectedArray=[];var e=this;C.getInstance().loadCardsData((function(t,n){n?(e.loadCardsData(),e.changeDragonData()):console.log("error in card loading")})),this.addReverseAnimation()},n.loadCardsData=function(){this.gruntCardsArray=C.getInstance().loadCardsDataWithName(this.dragonsNameArray[0]),this.AlexCardsArray=C.getInstance().loadCardsDataWithName(this.dragonsNameArray[1]),this.PicoIceCardsArray=C.getInstance().loadCardsDataWithName(this.dragonsNameArray[2])},n.updateUI=function(){this.updateCardUI(),this.updateNameBoard(),this.updatePageViewCardsData(),this.changeProgressBarIcon(),this.updateProgressBar(),this.changeDragonStats(),this.changeBackground(),this.loadSpineAnim()},n.updateCardUI=function(){for(var e=0;e<this.currentSelectedArray.length;e++){var t=this.currentSelectedArray[e];this.cards[e].getComponent("Cards").setCardData(t,this)}},n.update=function(e){},n.learnedButtonCB=function(e,t){this.resetBaseSelectedState(),this.learnedSelected.active=!0,this.detailCardContainter.active=!1,this.learnedNode.setSiblingIndex(1)},n.resetLearnedSelectedState=function(){this.learnedSelected.active=!1},n.baseButtonCB=function(e,t){this.resetLearnedSelectedState(),this.baseSelected.active=!0,this.cardsCointainter.active=!0,this.baseNode.setSiblingIndex(1)},n.resetBaseSelectedState=function(){this.baseSelected.active=!1},n.changeDragonData=function(){switch(this.currentSelectedArray=[],this.currentSelectIndex){case 1:this.currentSelectedArray=[].concat(this.gruntCardsArray);break;case 2:this.currentSelectedArray=[].concat(this.AlexCardsArray);break;case 3:this.currentSelectedArray=[].concat(this.PicoIceCardsArray)}this.dragonInfo=C.getInstance().getDragonInfo(this.dragonsNameArray[this.currentSelectIndex-1]),this.updateUI()},n.showCardDetails=function(e){var t=this.currentSelectedArray[e],n=t.Description;this.detailCardContainter.active=!0,this.detailCardNode.getComponent("Cards").setCardData(t,null),this.cardDetailText.string=n},n.showBaseDetailTab=function(){this.cardsCointainter.active=!0,this.detailCardContainter.active=!1},n.cardClickCB=function(e){this.cardsCointainter.active=!1,this.detailCardContainter.active=!0,this.showCardDetails(e)},n.updateNameBoard=function(){var e=this,t=this.dragonInfo.Name;t=t.replace(/\s/g,""),l.load("DragonScene/"+t+"/spriteFrame",d,(function(t,n){e.dragonNameSprite.spriteFrame=n}))},n.updatePageViewCardsData=function(){for(var e=1;e<=3;e++){var t=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+e).getChildByName("Dragon").getComponent(i),n=C.getInstance().getDragonInfo(this.dragonsNameArray[e-1]);this.updateDragonImage(t,n)}},n.updateProgressBar=function(){var e=this.dragonInfo.HP;this.progressBar.totalLength=this.progressBar.node.getComponent(c).width,this.progressBar.progress=e/2e3},n.changeProgressBarIcon=function(){var e=this,t=this.dragonInfo.species+this.dragonInfo.type+"BarIcon";console.log("imageName: ",t),l.load("DragonScene/"+t+"/spriteFrame",d,(function(t,n){e.progressBarIcon.spriteFrame=n}))},n.updateDragonImage=function(e,t){var n=t.Name;n=n.replace(/\s/g,""),l.load("DragonImages/"+n+"/spriteFrame",d,(function(t,n){e.spriteFrame=n}))},n.dragonLeftCB=function(e,t){1!=this.currentSelectIndex&&(this.currentSelectIndex=this.currentSelectIndex-1,this.currentSelectIndex=this.currentSelectIndex<1?1:this.currentSelectIndex,this.changeBackground(),this.onPageLeftViewShift(),this.dragonLeftButton.enabled=!1)},n.dragonRightCB=function(e,t){3!=this.currentSelectIndex&&(this.currentSelectIndex=this.currentSelectIndex+1,this.currentSelectIndex=this.currentSelectIndex>3?3:this.currentSelectIndex,this.changeBackground(),this.onPageRightViewShift(),this.dragonRightButton.enabled=!1)},n.changeBackground=function(){this.sky_BG.getComponent(u).play("FadeOut");this.sky_BG.getComponent(u).on("finished",this.onBackroundAnimFinished,this)},n.onBackroundAnimFinished=function(e){var t=this;console.log("Animation Completed"),this.changeDragonData(),this.showBaseDetailTab();var n="DragonScene/"+this.dragonInfo.species+"_BG/";l.load(n+"BG_Sky/spriteFrame",d,(function(e,n){t.sky_BG.spriteFrame=n})),l.load(n+"BG_Stars/spriteFrame",d,(function(e,n){t.sky_Stars.spriteFrame=n})),l.load(n+"BG_Base/spriteFrame",d,(function(e,n){t.sky_Base.spriteFrame=n})),this.sky_BG.getComponent(u).off("finished"),this.sky_BG.getComponent(u).play("Fade_In")},n.onPageRightViewShift=function(){var e=this,t=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+(this.currentSelectIndex-1)).getSiblingIndex();this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+this.currentSelectIndex).setSiblingIndex(t);for(var n=1;n<=this.dragonCardsOnPageView.children.length;n++){var r=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+n);g(r).by(.5,{position:new h(-110,0,0)}).call((function(){e.dragonRightButton.enabled=!0})).start()}},n.onPageLeftViewShift=function(){var e=this,t=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+(this.currentSelectIndex+1)).getSiblingIndex();this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+this.currentSelectIndex).setSiblingIndex(t);for(var n=1;n<=this.dragonCardsOnPageView.children.length;n++){var r=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+n);g(r).by(.5,{position:new h(110,0,0)}).call((function(){e.dragonLeftButton.enabled=!0})).start()}},n.addReverseAnimation=function(){this.flagClosed.getComponent(u).on("finished",this.onFinishedAnimation,this);var e=this.flagClosed.getComponent(u);this.flagClosed.getComponent(u).createState(e.clips[0],"reverse").wrapMode=36},n.onDetailsButtonClick=function(){var e=this.flagClosed.getComponent(u);this.flagClosed.active?e.play("detailsButtonDrop"):(this.flagClosed.active=!0,this.flagOpened.active=!1,e.play("reverse")),this.flagClosed.getParent().getComponent(o).enabled=!1,this.flagOpened.getComponent(o).enabled=!1},n.onFinishedAnimation=function(){this.animationDropPlayed?(this.flagClosed.active=!1,this.flagOpened.active=!0):(this.flagOpened.active=!1,this.flagClosed.active=!0),this.animationDropPlayed=!this.animationDropPlayed,this.flagClosed.getParent().getComponent(o).enabled=!0,this.flagOpened.getComponent(o).enabled=!0},n.changeDragonStats=function(){this.dragonHP.string=this.dragonInfo.HP,this.dragonATK.string=this.dragonInfo.ATK,this.dragonDEF.string=this.dragonInfo.DEF,this.dragonINT.string=this.dragonInfo.INT,this.dragonSPD.string=this.dragonInfo.SPD,this.progressBarHP.string=this.dragonHP.string},n.backButtonClick=function(){f.loadScene("Home")},n.loadSpineAnim=function(){var e=this.dragonNode.getChildByName("spineDragon");l.loadDir(this.dragonInfo.Spine,(function(t,n){for(var r=0;r<n.length;r++)if(n[r].skeletonJson){var a=Object.keys(n[r].skeletonJson.animations)[0],i=e.getComponent("sp.Skeleton");i.skeletonData=n[r],i.setAnimation(0,a,!0);break}}))},t}(p)).prototype,"learnedNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=m(Q.prototype,"learnedSelected",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=m(Q.prototype,"baseNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=m(Q.prototype,"baseSelected",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=m(Q.prototype,"cards",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=m(Q.prototype,"cardsCointainter",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=m(Q.prototype,"detailCardContainter",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=m(Q.prototype,"detailCardNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=m(Q.prototype,"cardDetailText",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=m(Q.prototype,"dragonNameSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=m(Q.prototype,"dragonNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=m(Q.prototype,"dragonLeftButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=m(Q.prototype,"dragonRightButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=m(Q.prototype,"progressBarIcon",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=m(Q.prototype,"progressBar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=m(Q.prototype,"progressBarHP",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=m(Q.prototype,"sky_BG",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=m(Q.prototype,"sky_Base",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=m(Q.prototype,"sky_Stars",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=m(Q.prototype,"dragonCardsOnPageView",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=m(Q.prototype,"flagOpened",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=m(Q.prototype,"flagClosed",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=m(Q.prototype,"dragonHP",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=m(Q.prototype,"dragonATK",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=m(Q.prototype,"dragonDEF",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=m(Q.prototype,"dragonINT",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=m(Q.prototype,"dragonSPD",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Q))||q));t._RF.pop()}}}));

System.register("chunks:///_virtual/light_Animation.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,n,e,o,r,a,p,c,l;return{setters:[function(t){i=t.cclegacy,n=t._decorator,e=t.CCFloat,o=t.Animation,r=t.Component},function(t){a=t.applyDecoratedDescriptor,p=t.inheritsLoose,c=t.initializerDefineProperty,l=t.assertThisInitialized}],execute:function(){var s,u,m,h,d,f,y;i._RF.push({},"eebd6/JvWdGcKHoyGkkfnZx","light_Animation",void 0);var _=n.ccclass,g=n.property;t("light_Animation",(s=_("light_Animation"),u=g({type:e}),m=g({type:e}),s((f=a((d=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return i=t.call.apply(t,[this].concat(e))||this,c(i,"Animation_Speed",f,l(i)),c(i,"Animation_Duration",y,l(i)),i}return p(i,t),i.prototype.start=function(){this.node.getComponent(o).clips[0].duration=this.Animation_Duration,this.node.getComponent(o).clips[0].speed=this.Animation_Speed,this.node.getComponent(o).play()},i}(r)).prototype,"Animation_Speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),y=a(d.prototype,"Animation_Duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyScene.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Utility.ts"],(function(e){"use strict";var n,t,i,r,o,a,c,s,u,l;return{setters:[function(e){n=e.cclegacy,t=e._decorator,i=e.Node,r=e.Animation,o=e.Component},function(e){a=e.applyDecoratedDescriptor,c=e.inheritsLoose,s=e.initializerDefineProperty,u=e.assertThisInitialized},function(e){l=e.RNG}],execute:function(){var p,m,h,y,f;n._RF.push({},"26d0dOH3EJHSrq0nPv4wYwP","LobbyScene",void 0);var b=t.ccclass,d=t.property;e("LobbyScene",(p=b("LobbyScene"),m=d(i),p((f=a((y=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,s(n,"arenaIceNode",f,u(n)),n.arenaIceAnimTimer=1200,n.timer=1,n}c(n,e);var t=n.prototype;return t.start=function(){},t.update=function(e){this.timer++,this.timer%this.arenaIceAnimTimer==0&&(this.arenaIceAnimTimer=l(1700,3e3),this.showArenaIceAnimation())},t.showArenaIceAnimation=function(){var e=this.arenaIceNode.getComponent(r),n=e.clips[0].name;e.play(n)},n}(o)).prototype,"arenaIceNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/LobbySpeed.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,n,i,o,a,c,l;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.Node,i=e.Component},function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,c=e.initializerDefineProperty,l=e.assertThisInitialized}],execute:function(){var u,p,s,y,b,d,f;t._RF.push({},"44dd33Ran1KDYm2+QATQ9Ww","LobbySpeed",void 0);var m=r.ccclass,h=r.property;e("LobbySpeed",(u=m("LobbySpeed"),p=h({type:[n]}),s=h({type:[n]}),u((d=o((b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,c(t,"cloudAnim",d,l(t)),c(t,"PortalAnim",f,l(t)),t}return a(t,e),t.prototype.start=function(){},t}(i)).prototype,"cloudAnim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=o(b.prototype,"PortalAnim",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CardManager.ts","./Cards.ts","./Constants.ts","./TeamManager.ts","./CardsControl.ts","./comingSoon.ts","./Utility.ts","./Deer.ts","./DeerAniamtion.ts","./Details.ts","./Dragon.ts","./dragonBoard.ts","./dragonDetails.ts","./DragonSequence.ts","./DragonTeam.ts","./DragonTurn.ts","./GamePlay.ts","./HomeScript.ts","./Inventory.ts","./light_Animation.ts","./LobbyScene.ts","./LobbySpeed.ts","./PlayerProfile.ts","./powerCard.ts","./Settings.ts","./snowfall.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlayerProfile.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(t){"use strict";var e,n,o,i,r,a,c,l,u,s,p;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Node,i=t.tween,r=t.Vec3,a=t.Component},function(t){c=t.applyDecoratedDescriptor,l=t.inheritsLoose,u=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){p=t.TeamManager}],execute:function(){var f,y,h,v,m,B,P;e._RF.push({},"e9870AVsE5Oj4Gxf1Tq21RR","PlayerProfile",void 0);var C=n.ccclass,d=n.property;t("PlayerProfile",(f=C("PlayerProfile"),y=d(o),h=d(o),f((B=c((m=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,u(e,"ButtonLayout",B,s(e)),u(e,"ButtonContainer",P,s(e)),e.HomeScript=void 0,e}l(e,t);var n=e.prototype;return n.start=function(){var t=this;this.HomeScript=this.ButtonLayout.getComponent("HomeScript"),this.ButtonContainer.children.forEach((function(e){e.on(o.EventType.MOUSE_ENTER,t.onButtonMouseEnter),e.on(o.EventType.MOUSE_LEAVE,t.onButtonMouseLeave)})),p.getInstance().animated||(this.node.setScale(0,0,0),this.AnimatePlayerProfile())},n.onDetailsButtonClick=function(){this.HomeScript.InvntoryClick()},n.onPowerButtonClick=function(){this.HomeScript.InvntoryClick()},n.onAchievementsButtonClick=function(){this.HomeScript.InvntoryClick()},n.onAvatarHeadButtonClick=function(){this.HomeScript.InvntoryClick()},n.onButtonMouseEnter=function(t){i(t.target).to(.2,{scale:new r(1.1,1.1,1)}).start()},n.onButtonMouseLeave=function(t){i(t.target).to(.2,{scale:new r(1,1,1)}).start()},n.AnimatePlayerProfile=function(){i(this.node).to(.3,{scale:new r(.6,.6,1)}).to(.2,{scale:new r(.5,.5,1)}).start()},e}(a)).prototype,"ButtonLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=c(m.prototype,"ButtonContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));e._RF.pop()}}}));

System.register("chunks:///_virtual/powerCard.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var t,n,a,o,i,r,s,l,u,c,d,p,h,m,f,g,C,y;return{setters:[function(e){t=e.cclegacy,n=e._decorator,a=e.Sprite,o=e.Label,i=e.Node,r=e.SpriteFrame,s=e.tween,l=e.Vec3,u=e.Layout,c=e.resources,d=e.Animation,p=e.Component},function(e){h=e.applyDecoratedDescriptor,m=e.inheritsLoose,f=e.initializerDefineProperty,g=e.assertThisInitialized},function(e){C=e.CardAnimation},function(e){y=e.TeamManager}],execute:function(){var v,b,D,E,T,L,N,w,_,R,A,M,S;t._RF.push({},"0ea13WJTAZLNbhvmLMs99ge","powerCard",void 0);var F=n.ccclass,I=n.property;e("powerCard",(v=F("powerCard"),b=I({type:a}),D=I({type:o}),E=I({type:o}),T=I({type:o}),L=I({type:i}),v((_=h((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,f(t,"DragonImage",_,g(t)),f(t,"cardName",R,g(t)),f(t,"cardDetails",A,g(t)),f(t,"EnergyLabel",M,g(t)),f(t,"customLayout",S,g(t)),t.starsMove=null,t.ContentSize=null,t.parentNode=null,t.Name_Card=null,t.dragonName=null,t.animation_Runn=!1,t.CardData=null,t.cardWidth=0,t.cardHeight=0,t.currSiblingIndex=0,t}m(t,e);var n=t.prototype;return n.start=function(){},n.setDragonCard=function(e,t,n){var o=this;void 0===n&&(n=""),this.loadRoomResource("DragonCards/"+t.Name+"/spriteFrame",r).then((function(e){o.node.getComponent(a).spriteFrame=e})).catch((function(e){o.customLayout.active=!0})),this.CardData=t,this.Name_Card=t.Name,this.dragonName=n,this.EnergyLabel.string=t.EnergyCost,this.setCardData(e,t.Name,t.Description),this.node.on(i.EventType.TOUCH_START,this.playAnimation,this),this.node.on(i.EventType.MOUSE_ENTER,this.onCardMove,this),this.node.on(i.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},n.onCardMove=function(){var e=this;this.animation_Runn||s(this.node).call((function(){e.animation_Runn=!0})).to(.2,{scale:new l(1.5,1.5,1)}).call((function(){})).call((function(){return e.animation_Runn=!1})).start()},n.onMouseLeave=function(){var e=this;console.log(this.node,"Called"),s(this.node).call((function(){e.node.parent.parent.getComponent(u).updateLayout(),e.node.parent.getComponent(u).enabled=!0,console.log("Layout updated")})).to(.2,{scale:new l(1,1,1)}).call((function(){})).start()},n.loadRoomResource=function(e,t){return new Promise((function(n,a){c.load(e,t,(function(e,t){e?a(e):n(t)}))}))},n.setCardData=function(e,t,n){this.DragonImage.spriteFrame=e,this.cardName.string=t,this.cardDetails.string=n},n.setParent=function(e){this.parentNode=e},n.switchCard=function(e){var t=e.getComponent("powerCard");this.setCardData(t.DragonImage.spriteFrame,t.cardName.string,t.cardDetails.string)},n.playAnimation=function(e){if(void 0===e&&(e=C.CardOut),this.node.setScale(1,1,1),e==C.CardIn)this.node.getComponent(d).play("CardIn");else{if(!y.getInstance().UseEnergy(this.CardData.EnergyCost))return;console.log("finished Called"),this.node.off(i.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.node.getComponent(d).play("CardOut");this.node.getComponent(d).on("finished",this.onFinished,this),this.node.off(i.EventType.TOUCH_START,this.playAnimation,this)}},n.onFinished=function(e){this.node.parent.getComponent(u).enabled=!0;this.node.getComponent(d).off("finished"),this.parentNode.cardSelected(this.node.parent.name,this.CardData),this.node.on(i.EventType.TOUCH_START,this.playAnimation,this)},t}(p)).prototype,"DragonImage",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=h(w.prototype,"cardName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=h(w.prototype,"cardDetails",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=h(w.prototype,"EnergyLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=h(w.prototype,"customLayout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=w))||N));t._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,c,u;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Node,r=t.Label,o=t.Component},function(t){a=t.applyDecoratedDescriptor,l=t.inheritsLoose,s=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){u=t.TeamManager}],execute:function(){var p,g,y,f,h,m,b,S,v;e._RF.push({},"45f58ZloxZGMY/qMdk5C6LY","Settings",void 0);var C=i.ccclass,d=i.property;t("Settings",(p=C("Settings"),g=d(n),y=d(r),f=d(r),p((b=a((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,s(e,"ButtonLayout",b,c(e)),s(e,"Coins",S,c(e)),s(e,"Energy",v,c(e)),e.HomeScript=void 0,e}l(e,t);var i=e.prototype;return i.start=function(){this.HomeScript=this.ButtonLayout.getComponent("HomeScript"),this.initializeInitialValues()},i.onSettingButtonClick=function(){this.HomeScript.InvntoryClick()},i.initializeInitialValues=function(){this.Coins.string=u.getInstance().getCoins()+"",this.Energy.string=u.getInstance().getGameEnergy()+""},e}(o)).prototype,"ButtonLayout",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=a(m.prototype,"Coins",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=a(m.prototype,"Energy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/snowfall.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(i){"use strict";var t,o,s,n,l,e,a,h,r,d,p,v,c;return{setters:[function(i){t=i.cclegacy,o=i._decorator,s=i.Prefab,n=i.UITransform,l=i.instantiate,e=i.Sprite,a=i.Color,h=i.Animation,r=i.Component},function(i){d=i.applyDecoratedDescriptor,p=i.inheritsLoose,v=i.initializerDefineProperty,c=i.assertThisInitialized}],execute:function(){var w,m,B,u,g;t._RF.push({},"d984awSGCVNYJDrKsBRaaQ2","snowfall",void 0);var f=o.ccclass,b=o.property;i("snowfall",(w=f("snowfall"),m=b({type:s}),w((g=d((u=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return t=i.call.apply(i,[this].concat(s))||this,v(t,"snowball",g,c(t)),t.visibleSnowBalls=[],t.snowBalls=[],t.yPosition=void 0,t.moveBall=!1,t.selectedBall=void 0,t.startingPositionX1=void 0,t.endingPositionX2=void 0,t.randomNo=null,t}p(t,i);var o=t.prototype;return o.start=function(){this.yPosition=this.node.getComponent(n).height/2,this.startingPositionX1=-this.node.getComponent(n).width/2,this.endingPositionX2=-this.startingPositionX1;for(var i=null,t=0;t<200;t++){i=l(this.snowball),this.node.addChild(i),this.snowBalls.push(i);var o=Math.floor(3*Math.random()),s=Math.floor(100*Math.random()+200),h=Math.floor(20*Math.random());i.getComponent(n).width=h,i.getComponent(n).height=h,this.snowBalls[t].attr({direction:o,pos:s,animPlayed:!1}),this.snowBalls[t].getComponent(e).color=new a(255,255,255,100),i.setPosition(Math.random()*(2*this.startingPositionX1)+this.endingPositionX2,this.yPosition,0)}this.schedule(this.addSnowFlake,1)},o.addSnowFlake=function(){for(var i=0;i<8;i++)this.selectedBall=this.snowBalls.pop(),this.selectedBall.active=!0,this.visibleSnowBalls.push(this.selectedBall)},o.update=function(i){for(var t=0;t<this.visibleSnowBalls.length;t++)this.randomNo=this.visibleSnowBalls[t].direction,0==this.randomNo?this.moveRight(this.visibleSnowBalls[t]):1==this.randomNo?this.moveLeft(this.visibleSnowBalls[t]):2==this.randomNo&&this.moveStraight(this.visibleSnowBalls[t]),this.visibleSnowBalls[t].position.y<=this.startingPositionX1&&(this.visibleSnowBalls[t].setPosition(Math.random()*(2*this.startingPositionX1)+this.endingPositionX2,this.yPosition,0),this.visibleSnowBalls[t].active=!1,this.visibleSnowBalls[t].getComponent(e).color=new a(255,255,255,100),this.visibleSnowBalls[t].animPlayed=!1,this.visibleSnowBalls[t].getComponent(h).stop(),this.snowBalls.push(this.visibleSnowBalls[t]),this.visibleSnowBalls.splice(t,1)),this.visibleSnowBalls[t].position.y<=this.visibleSnowBalls[t].pos&&!this.visibleSnowBalls[t].animPlayed&&(this.visibleSnowBalls[t].getComponent(h).play("animation"),this.visibleSnowBalls[t].animPlayed=!0)},o.moveStraight=function(i){i.setPosition(i.position.x,i.position.y-1,0)},o.moveRight=function(i){i.setPosition(i.position.x+.5,i.position.y-1,0)},o.moveLeft=function(i){i.setPosition(i.position.x-.5,i.position.y-1,0)},t}(r)).prototype,"snowball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=u))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/TeamManager.ts",["cc","./Constants.ts"],(function(t){"use strict";var n,r,e;return{setters:[function(t){n=t.cclegacy,r=t.sys},function(t){e=t.USER}],execute:function(){n._RF.push({},"0e055FLahdKRaVf1Pe5ImPq","TeamManager",void 0);var s="Coins",i="Energy";t("TeamManager",function(){function t(){this._userDragons=[],this._AIDragons=[],this._cardsAvailabel=12,this._currentEnenrgy=3,this._currentRound=0,this._computerData=null,this._computerEnergy=3,this._FightingUserDragons=[],this._FightingAIDragons=[],this._DragonsSpeedOrder=[],this.counter=0,this.animated=!1}var n=t.prototype;return n.getCoins=function(){var t=JSON.parse(r.localStorage.getItem(s));return null==t&&(t=100,this._setCoins(t)),t},n._setCoins=function(t){r.localStorage.setItem(s,JSON.stringify(t))},n.updateCoins=function(t){var n=this.getCoins()+t;this._setCoins(n)},n.getGameEnergy=function(){var t=JSON.parse(r.localStorage.getItem(i));return null==t&&(t=15,this._setGameEnergy(t)),t},n._setGameEnergy=function(t){r.localStorage.setItem(i,JSON.stringify(t))},n.updateGameEnergy=function(t){var n=this.getGameEnergy()+t;this._setGameEnergy(n)},n.getCurrentRound=function(){return this._currentRound},n.setCurrentRound=function(t){this._currentRound=this._currentRound+t},n.resetCurrentRound=function(){this._currentRound=0},t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},n.UseEnergy=function(t,n){switch(void 0===n&&(n=e.Player),n){case e.Player:return!(this._currentEnenrgy-t<0)&&(this._currentEnenrgy=this._currentEnenrgy-t,!0);case e.Computer:return!(this._computerEnergy-t<0)&&(this._computerEnergy=this._computerEnergy-t,!0)}},n.getCurrentEnegy=function(t){switch(void 0===t&&(t=e.Player),t){case e.Player:return this._currentEnenrgy;case e.Computer:return this._computerEnergy}},n.setDefaultEnergy=function(){this._currentEnenrgy=3,this._computerEnergy=3},n.updateEnergy=function(){this._currentEnenrgy=this._currentEnenrgy+3,this._computerEnergy=this._computerEnergy+3},n.getCardsCount=function(){return this._cardsAvailabel},n.ReduceCards=function(){--this._cardsAvailabel},n.setDragons=function(t,n){switch(n){case e.Computer:this._AIDragons=t;break;case e.Player:this._userDragons=t}},n.setFightingDragons=function(){this._FightingAIDragons.length=0,this._FightingUserDragons.length=0,this.supportingDragons(this._AIDragons,this._FightingAIDragons,e.Computer),this.supportingDragons(this._userDragons,this._FightingUserDragons,e.Player),this._DragonsSpeedOrder=[].concat(this._FightingAIDragons,this._FightingUserDragons),this.sortOnSpeed(this._DragonsSpeedOrder)},n.sortDragons=function(){this.sortOnSpeed(this._DragonsSpeedOrder)},n.supportingDragons=function(t,n,r){if(!(n.length>0)){for(var e=0;e<t.length;e++){var s={Node:t[e],user:r,Data:t[e].getComponent("Dragon")};n.push(s)}return this.sortOnSpeed(n),n}this.sortOnSpeed(n)},n.getDragonsSpeedOrder=function(){return this._DragonsSpeedOrder},n.get_Dragon_LowHP=function(t){for(var n=this.getFightingDragons(t),r=[],e=0;e<n.length;e++){var s=n[e].Data;r.push(s.CardsData.HP-s.HP)}return n[r.indexOf(Math.min.apply(Math,r))]},n.getDragonUser=function(t){var n;return(n=this._DragonsSpeedOrder.find((function(n){return n.Node.name===t})))?n.user:n},n.removeDragon=function(t){var n=0,r=this.getDragonUser(t)==e.Player?this._userDragons:this._AIDragons;for(n=0;n<this._DragonsSpeedOrder.length;n++)if(this._DragonsSpeedOrder[n].Node.name===t){this._DragonsSpeedOrder.splice(n,1);break}for(n=0;n<r.length;n++)if(r[n].name===t){r.splice(n,1);break}},n.sortOnSpeed=function(t){t.sort((function(t,n){return t.Data.SPD>n.Data.SPD?-1:1}))},n.getUserDragonIndex=function(t){return this._userDragons[t]},n.getDragons=function(t){switch(t){case e.Computer:return this._AIDragons;case e.Player:return this._userDragons}},n.getFightingDragons=function(t){switch(t){case e.Computer:return this._FightingAIDragons;case e.Player:return this._FightingUserDragons}},t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["cc"],(function(t){"use strict";var n,o,e,i,r,c,s,u;return{setters:[function(t){n=t.cclegacy,o=t._decorator,e=t.tween,i=t.Vec3,r=t.UITransform,c=t.Sprite,s=t.Intersection2D,u=t.instantiate}],execute:function(){t({RNG:function(t,n){return Math.floor(Math.random()*(t-n+1)+n)},collisionCheck:function(t,n){if(null!=t&&null!=n){var o,e;return s.rectRect(null==(o=t.getComponent(r))?void 0:o.getBoundingBoxToWorld(),null==(e=n.getComponent(r))?void 0:e.getBoundingBoxToWorld())}},getCloseNode:function(t,n){for(var o=[],e=0;e<t.length;e++)o[e]=i.distance(n.getPosition(),t[e].getPosition());var r=o.indexOf(Math.min.apply(Math,o));return t[r]},getScript:function(t,n){return t.getComponent(n)},getXposition:function(t){return t.position.x},getYposition:function(t){return t.position.y},nodeHeight:function(t){return t.getComponent(r).height/2},nodeWidth:function(t){return t.getComponent(r).width/2},popClose:function(t,n){e(t).to(n,{scale:new i(0,0,0)}).start()},popOpen:function(t,n){e(t).to(n,{scale:new i(1,1,1)}).start()},setSpriteFrame:function(t,n){t.getComponent(c).spriteFrame=n}}),n._RF.push({},"97b29Fwc8RL64tt9SRS0NfJ","Utility",void 0);o.ccclass,o.property;t("snail",function(){function t(){this.snail=void 0}return t.prototype.setSnail=function(t){this.snail=t},t}()),t("MyNode",(function(t,n,o){void 0===o&&(o=null),this.myNode=void 0,this.myScript=void 0,this.scoreCount=!1,this.myNode=u(t),o&&(this.myScript=this.myNode.getComponent(o)),n&&n.addChild(this.myNode)}));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});